ARM GAS  /tmp/ccgekplO.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"fobFirmware.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.pairFob.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 5000     		.ascii	"P\000"
  21 0002 0000     		.align	2
  22              	.LC1:
  23 0004 50616972 		.ascii	"Paired\000"
  23      656400
  24              		.section	.text.pairFob,"ax",%progbits
  25              		.align	1
  26              		.global	pairFob
  27              		.arch armv7e-m
  28              		.syntax unified
  29              		.thumb
  30              		.thumb_func
  31              		.fpu fpv4-sp-d16
  33              	pairFob:
  34              	.LVL0:
  35              	.LFB1:
  36              		.file 1 "../../application/src/fobFirmware.c"
   1:../../application/src/fobFirmware.c **** /**
   2:../../application/src/fobFirmware.c ****  * @file main.c
   3:../../application/src/fobFirmware.c ****  * @author Frederich Stine
   4:../../application/src/fobFirmware.c ****  * @brief eCTF Fob Example Design Implementation
   5:../../application/src/fobFirmware.c ****  * @date 2023
   6:../../application/src/fobFirmware.c ****  *
   7:../../application/src/fobFirmware.c ****  * This source file is part of an example system for MITRE's 2023 Embedded
   8:../../application/src/fobFirmware.c ****  * System CTF (eCTF). This code is being provided only for educational purposes
   9:../../application/src/fobFirmware.c ****  * for the 2023 MITRE eCTF competition, and may not meet MITRE standards for
  10:../../application/src/fobFirmware.c ****  * quality. Use this code at your own risk!
  11:../../application/src/fobFirmware.c ****  *
  12:../../application/src/fobFirmware.c ****  * @copyright Copyright (c) 2023 The MITRE Corporation
  13:../../application/src/fobFirmware.c ****  */
  14:../../application/src/fobFirmware.c **** 
  15:../../application/src/fobFirmware.c **** #include <stdbool.h>
  16:../../application/src/fobFirmware.c **** #include <stdint.h>
  17:../../application/src/fobFirmware.c **** #include <string.h>
  18:../../application/src/fobFirmware.c **** 
  19:../../application/src/fobFirmware.c **** #include "secrets.h"
  20:../../application/src/fobFirmware.c **** #include "messages.h"
  21:../../application/src/fobFirmware.c **** #include "dataFormats.h"
ARM GAS  /tmp/ccgekplO.s 			page 2


  22:../../application/src/fobFirmware.c **** #include "uart.h"
  23:../../application/src/fobFirmware.c **** #include "platform.h"
  24:../../application/src/fobFirmware.c **** 
  25:../../application/src/fobFirmware.c **** #define FLASH_PAIRED 0x00
  26:../../application/src/fobFirmware.c **** #define FLASH_UNPAIRED 0xFF
  27:../../application/src/fobFirmware.c **** 
  28:../../application/src/fobFirmware.c **** /*** Structure definitions ***/
  29:../../application/src/fobFirmware.c **** // Defines a struct for the format of an enable message
  30:../../application/src/fobFirmware.c **** typedef struct
  31:../../application/src/fobFirmware.c **** {
  32:../../application/src/fobFirmware.c ****   uint8_t car_id[8];
  33:../../application/src/fobFirmware.c ****   uint8_t feature;
  34:../../application/src/fobFirmware.c **** } ENABLE_PACKET;
  35:../../application/src/fobFirmware.c **** 
  36:../../application/src/fobFirmware.c **** /*** Function definitions ***/
  37:../../application/src/fobFirmware.c **** // Core functions - all functionality supported by fob
  38:../../application/src/fobFirmware.c **** void pairFob(FLASH_DATA *fob_state_ram);
  39:../../application/src/fobFirmware.c **** void unlockCar(FLASH_DATA *fob_state_ram);
  40:../../application/src/fobFirmware.c **** void enableFeature(FLASH_DATA *fob_state_ram);
  41:../../application/src/fobFirmware.c **** void startCar(FLASH_DATA *fob_state_ram);
  42:../../application/src/fobFirmware.c **** void printFobState(FLASH_DATA *flash_data);
  43:../../application/src/fobFirmware.c **** 
  44:../../application/src/fobFirmware.c **** // Helper functions - receive ack message
  45:../../application/src/fobFirmware.c **** uint8_t receiveAck();
  46:../../application/src/fobFirmware.c **** 
  47:../../application/src/fobFirmware.c **** /**
  48:../../application/src/fobFirmware.c ****  * @brief Main function for the fob example
  49:../../application/src/fobFirmware.c ****  *
  50:../../application/src/fobFirmware.c ****  * Listens over UART and SW1 for an unlock command. If unlock command presented,
  51:../../application/src/fobFirmware.c ****  * attempts to unlock door. Listens over UART for pair command. If pair
  52:../../application/src/fobFirmware.c ****  * command presented, attempts to either pair a new key, or be paired
  53:../../application/src/fobFirmware.c ****  * based on firmware build.
  54:../../application/src/fobFirmware.c ****  */
  55:../../application/src/fobFirmware.c **** int main(int argc, char ** argv)
  56:../../application/src/fobFirmware.c **** {
  57:../../application/src/fobFirmware.c ****   initHardware_fob(argc, argv);
  58:../../application/src/fobFirmware.c **** 
  59:../../application/src/fobFirmware.c ****   FLASH_DATA fob_state_ram;
  60:../../application/src/fobFirmware.c ****   //FLASH_DATA fob_state_flash;
  61:../../application/src/fobFirmware.c ****   readVar((uint8_t*)(&fob_state_ram), "fob_state");
  62:../../application/src/fobFirmware.c **** 
  63:../../application/src/fobFirmware.c **** // If paired fob, initialize the system information
  64:../../application/src/fobFirmware.c **** #if PAIRED == 1
  65:../../application/src/fobFirmware.c ****   if (fob_state_ram.paired == FLASH_UNPAIRED)
  66:../../application/src/fobFirmware.c ****   {
  67:../../application/src/fobFirmware.c ****     strcpy((char *)(fob_state_ram.pair_info.password), PASSWORD);
  68:../../application/src/fobFirmware.c ****     strcpy((char *)(fob_state_ram.pair_info.pin), PAIR_PIN);
  69:../../application/src/fobFirmware.c ****     strcpy((char *)(fob_state_ram.pair_info.car_id), CAR_ID);
  70:../../application/src/fobFirmware.c ****     strcpy((char *)(fob_state_ram.feature_info.car_id), CAR_ID);
  71:../../application/src/fobFirmware.c ****     fob_state_ram.paired = FLASH_PAIRED;
  72:../../application/src/fobFirmware.c **** 
  73:../../application/src/fobFirmware.c ****     printFobState(&fob_state_ram);
  74:../../application/src/fobFirmware.c ****     saveFobState(&fob_state_ram);
  75:../../application/src/fobFirmware.c ****   }
  76:../../application/src/fobFirmware.c **** #else
  77:../../application/src/fobFirmware.c ****   fob_state_ram.paired = FLASH_UNPAIRED;
  78:../../application/src/fobFirmware.c **** #endif
ARM GAS  /tmp/ccgekplO.s 			page 3


  79:../../application/src/fobFirmware.c **** 
  80:../../application/src/fobFirmware.c **** /*
  81:../../application/src/fobFirmware.c ****   if (fob_state_flash.paired == FLASH_PAIRED)
  82:../../application/src/fobFirmware.c ****   {
  83:../../application/src/fobFirmware.c ****     memcpy(&fob_state_ram, &fob_state_flash, sizeof(FLASH_DATA));
  84:../../application/src/fobFirmware.c ****   }
  85:../../application/src/fobFirmware.c ****   */
  86:../../application/src/fobFirmware.c **** 
  87:../../application/src/fobFirmware.c ****   // This will run on first boot to initialize features
  88:../../application/src/fobFirmware.c ****   if (fob_state_ram.feature_info.num_active == 0xFF)
  89:../../application/src/fobFirmware.c ****   {
  90:../../application/src/fobFirmware.c ****     fob_state_ram.feature_info.num_active = 0;
  91:../../application/src/fobFirmware.c ****     printFobState(&fob_state_ram);
  92:../../application/src/fobFirmware.c ****     saveFobState(&fob_state_ram);
  93:../../application/src/fobFirmware.c ****   }
  94:../../application/src/fobFirmware.c **** 
  95:../../application/src/fobFirmware.c ****   // Declare a buffer for reading and writing to UART
  96:../../application/src/fobFirmware.c ****   uint8_t uart_buffer[10];
  97:../../application/src/fobFirmware.c ****   uint8_t uart_buffer_index = 0;
  98:../../application/src/fobFirmware.c **** 
  99:../../application/src/fobFirmware.c ****   // Infinite loop for polling UART
 100:../../application/src/fobFirmware.c ****   while (true)
 101:../../application/src/fobFirmware.c ****   {
 102:../../application/src/fobFirmware.c **** 
 103:../../application/src/fobFirmware.c ****     // Non blocking UART polling
 104:../../application/src/fobFirmware.c ****     if (uart_avail(HOST_UART))
 105:../../application/src/fobFirmware.c ****     {
 106:../../application/src/fobFirmware.c ****       uint8_t uart_char = (uint8_t)uart_readb(HOST_UART);
 107:../../application/src/fobFirmware.c **** 
 108:../../application/src/fobFirmware.c ****       if ((uart_char != '\r') && (uart_char != '\n') && (uart_char != '\0') &&
 109:../../application/src/fobFirmware.c ****           (uart_char != 0xD))
 110:../../application/src/fobFirmware.c ****       {
 111:../../application/src/fobFirmware.c ****         uart_buffer[uart_buffer_index] = uart_char;
 112:../../application/src/fobFirmware.c ****         uart_buffer_index++;
 113:../../application/src/fobFirmware.c ****       }
 114:../../application/src/fobFirmware.c ****       else
 115:../../application/src/fobFirmware.c ****       {
 116:../../application/src/fobFirmware.c ****         uart_buffer[uart_buffer_index] = 0x00;
 117:../../application/src/fobFirmware.c ****         uart_buffer_index = 0;
 118:../../application/src/fobFirmware.c **** 
 119:../../application/src/fobFirmware.c ****         if (!(strcmp((char *)uart_buffer, "enable")))
 120:../../application/src/fobFirmware.c ****         {
 121:../../application/src/fobFirmware.c ****           enableFeature(&fob_state_ram);
 122:../../application/src/fobFirmware.c ****         }
 123:../../application/src/fobFirmware.c ****         else if (!(strcmp((char *)uart_buffer, "pair")))
 124:../../application/src/fobFirmware.c ****         {
 125:../../application/src/fobFirmware.c ****           pairFob(&fob_state_ram);
 126:../../application/src/fobFirmware.c ****         }
 127:../../application/src/fobFirmware.c ****       }
 128:../../application/src/fobFirmware.c ****     }
 129:../../application/src/fobFirmware.c **** 
 130:../../application/src/fobFirmware.c ****     if(buttonPressed())
 131:../../application/src/fobFirmware.c ****     {
 132:../../application/src/fobFirmware.c ****       char msg[] = "Button press detected\n";
 133:../../application/src/fobFirmware.c ****       uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 134:../../application/src/fobFirmware.c ****       unlockCar(&fob_state_ram);
 135:../../application/src/fobFirmware.c ****       if (receiveAck())
ARM GAS  /tmp/ccgekplO.s 			page 4


 136:../../application/src/fobFirmware.c ****       {
 137:../../application/src/fobFirmware.c ****         startCar(&fob_state_ram);
 138:../../application/src/fobFirmware.c ****       }
 139:../../application/src/fobFirmware.c ****     }
 140:../../application/src/fobFirmware.c ****   }
 141:../../application/src/fobFirmware.c **** }
 142:../../application/src/fobFirmware.c **** 
 143:../../application/src/fobFirmware.c **** /**
 144:../../application/src/fobFirmware.c ****  * @brief Function that carries out pairing of the fob
 145:../../application/src/fobFirmware.c ****  *
 146:../../application/src/fobFirmware.c ****  * @param fob_state_ram pointer to the current fob state in ram
 147:../../application/src/fobFirmware.c ****  */
 148:../../application/src/fobFirmware.c **** void pairFob(FLASH_DATA *fob_state_ram)
 149:../../application/src/fobFirmware.c **** {
  37              		.loc 1 149 1 view -0
  38              		.cfi_startproc
  39              		@ args = 0, pretend = 0, frame = 16
  40              		@ frame_needed = 0, uses_anonymous_args = 0
  41              		.loc 1 149 1 is_stmt 0 view .LVU1
  42 0000 70B5     		push	{r4, r5, r6, lr}
  43              	.LCFI0:
  44              		.cfi_def_cfa_offset 16
  45              		.cfi_offset 4, -16
  46              		.cfi_offset 5, -12
  47              		.cfi_offset 6, -8
  48              		.cfi_offset 14, -4
  49 0002 84B0     		sub	sp, sp, #16
  50              	.LCFI1:
  51              		.cfi_def_cfa_offset 32
  52 0004 0446     		mov	r4, r0
 150:../../application/src/fobFirmware.c ****   MESSAGE_PACKET message;
  53              		.loc 1 150 3 is_stmt 1 view .LVU2
 151:../../application/src/fobFirmware.c ****   // Start pairing transaction - fob is already paired
 152:../../application/src/fobFirmware.c ****   if (fob_state_ram->paired == FLASH_PAIRED)
  54              		.loc 1 152 3 view .LVU3
  55              		.loc 1 152 20 is_stmt 0 view .LVU4
  56 0006 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  57              		.loc 1 152 6 view .LVU5
  58 0008 EBB9     		cbnz	r3, .L2
  59              	.LBB2:
 153:../../application/src/fobFirmware.c ****   {
 154:../../application/src/fobFirmware.c ****     int16_t bytes_read;
  60              		.loc 1 154 5 is_stmt 1 view .LVU6
 155:../../application/src/fobFirmware.c ****     uint8_t uart_buffer[8];
  61              		.loc 1 155 5 view .LVU7
 156:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, (uint8_t *)"P", 1);
  62              		.loc 1 156 5 view .LVU8
  63 000a 0122     		movs	r2, #1
  64 000c 1949     		ldr	r1, .L6
  65 000e 0020     		movs	r0, #0
  66              	.LVL1:
  67              		.loc 1 156 5 is_stmt 0 view .LVU9
  68 0010 FFF7FEFF 		bl	uart_write
  69              	.LVL2:
 157:../../application/src/fobFirmware.c ****     bytes_read = uart_readline(HOST_UART, uart_buffer);
  70              		.loc 1 157 5 is_stmt 1 view .LVU10
  71              		.loc 1 157 18 is_stmt 0 view .LVU11
ARM GAS  /tmp/ccgekplO.s 			page 5


  72 0014 6946     		mov	r1, sp
  73 0016 0020     		movs	r0, #0
  74 0018 FFF7FEFF 		bl	uart_readline
  75              	.LVL3:
  76              		.loc 1 157 16 view .LVU12
  77 001c 00B2     		sxth	r0, r0
  78              	.LVL4:
 158:../../application/src/fobFirmware.c **** 
 159:../../application/src/fobFirmware.c ****     if (bytes_read == 6)
  79              		.loc 1 159 5 is_stmt 1 view .LVU13
  80              		.loc 1 159 8 is_stmt 0 view .LVU14
  81 001e 0628     		cmp	r0, #6
  82 0020 26D1     		bne	.L1
 160:../../application/src/fobFirmware.c ****     {
 161:../../application/src/fobFirmware.c ****       // If the pin is correct
 162:../../application/src/fobFirmware.c ****       if (!(strcmp((char *)uart_buffer,
  83              		.loc 1 162 7 is_stmt 1 view .LVU15
  84              		.loc 1 162 13 is_stmt 0 view .LVU16
  85 0022 04F11101 		add	r1, r4, #17
  86 0026 6846     		mov	r0, sp
  87              	.LVL5:
  88              		.loc 1 162 13 view .LVU17
  89 0028 FFF7FEFF 		bl	strcmp
  90              	.LVL6:
  91              		.loc 1 162 10 view .LVU18
  92 002c 00BB     		cbnz	r0, .L1
 163:../../application/src/fobFirmware.c ****                    (char *)fob_state_ram->pair_info.pin)))
 164:../../application/src/fobFirmware.c ****       {
 165:../../application/src/fobFirmware.c ****         // Pair the new key by sending a PAIR_PACKET structure
 166:../../application/src/fobFirmware.c ****         // with required information to unlock door
 167:../../application/src/fobFirmware.c ****         message.message_len = sizeof(PAIR_PACKET);
  93              		.loc 1 167 9 is_stmt 1 view .LVU19
  94              		.loc 1 167 29 is_stmt 0 view .LVU20
  95 002e 1823     		movs	r3, #24
  96 0030 8DF80930 		strb	r3, [sp, #9]
 168:../../application/src/fobFirmware.c ****         message.magic = PAIR_MAGIC;
  97              		.loc 1 168 9 is_stmt 1 view .LVU21
  98              		.loc 1 168 23 is_stmt 0 view .LVU22
  99 0034 5523     		movs	r3, #85
 100 0036 8DF80830 		strb	r3, [sp, #8]
 169:../../application/src/fobFirmware.c ****         message.buffer = (uint8_t *)&fob_state_ram->pair_info;
 101              		.loc 1 169 9 is_stmt 1 view .LVU23
 102              		.loc 1 169 37 is_stmt 0 view .LVU24
 103 003a 0134     		adds	r4, r4, #1
 104              	.LVL7:
 105              		.loc 1 169 24 view .LVU25
 106 003c 0394     		str	r4, [sp, #12]
 170:../../application/src/fobFirmware.c ****         send_board_message(&message);
 107              		.loc 1 170 9 is_stmt 1 view .LVU26
 108 003e 02A8     		add	r0, sp, #8
 109 0040 FFF7FEFF 		bl	send_board_message
 110              	.LVL8:
 111 0044 14E0     		b	.L1
 112              	.LVL9:
 113              	.L2:
 114              		.loc 1 170 9 is_stmt 0 view .LVU27
 115              	.LBE2:
ARM GAS  /tmp/ccgekplO.s 			page 6


 171:../../application/src/fobFirmware.c ****       }
 172:../../application/src/fobFirmware.c ****     }
 173:../../application/src/fobFirmware.c ****   }
 174:../../application/src/fobFirmware.c **** 
 175:../../application/src/fobFirmware.c ****   // Start pairing transaction - fob is not paired
 176:../../application/src/fobFirmware.c ****   else
 177:../../application/src/fobFirmware.c ****   {
 178:../../application/src/fobFirmware.c ****     message.buffer = (uint8_t *)&fob_state_ram->pair_info;
 116              		.loc 1 178 5 is_stmt 1 view .LVU28
 117              		.loc 1 178 33 is_stmt 0 view .LVU29
 118 0046 461C     		adds	r6, r0, #1
 119              		.loc 1 178 20 view .LVU30
 120 0048 0396     		str	r6, [sp, #12]
 179:../../application/src/fobFirmware.c ****     receive_board_message_by_type(&message, PAIR_MAGIC);
 121              		.loc 1 179 5 is_stmt 1 view .LVU31
 122 004a 5521     		movs	r1, #85
 123 004c 02A8     		add	r0, sp, #8
 124              	.LVL10:
 125              		.loc 1 179 5 is_stmt 0 view .LVU32
 126 004e FFF7FEFF 		bl	receive_board_message_by_type
 127              	.LVL11:
 180:../../application/src/fobFirmware.c ****     fob_state_ram->paired = FLASH_PAIRED;
 128              		.loc 1 180 5 is_stmt 1 view .LVU33
 129              		.loc 1 180 27 is_stmt 0 view .LVU34
 130 0052 0025     		movs	r5, #0
 131 0054 2046     		mov	r0, r4
 132 0056 00F8195B 		strb	r5, [r0], #25
 181:../../application/src/fobFirmware.c ****     strcpy((char *)fob_state_ram->feature_info.car_id,
 133              		.loc 1 181 5 is_stmt 1 view .LVU35
 134 005a 3146     		mov	r1, r6
 135 005c FFF7FEFF 		bl	strcpy
 136              	.LVL12:
 182:../../application/src/fobFirmware.c ****            (char *)fob_state_ram->pair_info.car_id);
 183:../../application/src/fobFirmware.c **** 
 184:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, (uint8_t *)"Paired", 6);
 137              		.loc 1 184 5 view .LVU36
 138 0060 0622     		movs	r2, #6
 139 0062 0549     		ldr	r1, .L6+4
 140 0064 2846     		mov	r0, r5
 141 0066 FFF7FEFF 		bl	uart_write
 142              	.LVL13:
 185:../../application/src/fobFirmware.c **** 
 186:../../application/src/fobFirmware.c ****     saveFobState(fob_state_ram);
 143              		.loc 1 186 5 view .LVU37
 144 006a 2046     		mov	r0, r4
 145 006c FFF7FEFF 		bl	saveFobState
 146              	.LVL14:
 147              	.L1:
 187:../../application/src/fobFirmware.c ****   }
 188:../../application/src/fobFirmware.c **** }
 148              		.loc 1 188 1 is_stmt 0 view .LVU38
 149 0070 04B0     		add	sp, sp, #16
 150              	.LCFI2:
 151              		.cfi_def_cfa_offset 16
 152              		@ sp needed
 153 0072 70BD     		pop	{r4, r5, r6, pc}
 154              	.L7:
ARM GAS  /tmp/ccgekplO.s 			page 7


 155              		.align	2
 156              	.L6:
 157 0074 00000000 		.word	.LC0
 158 0078 04000000 		.word	.LC1
 159              		.cfi_endproc
 160              	.LFE1:
 162              		.section	.rodata.enableFeature.str1.4,"aMS",%progbits,1
 163              		.align	2
 164              	.LC2:
 165 0000 456E6162 		.ascii	"Enabled\000"
 165      6C656400 
 166              		.section	.text.enableFeature,"ax",%progbits
 167              		.align	1
 168              		.global	enableFeature
 169              		.syntax unified
 170              		.thumb
 171              		.thumb_func
 172              		.fpu fpv4-sp-d16
 174              	enableFeature:
 175              	.LVL15:
 176              	.LFB2:
 189:../../application/src/fobFirmware.c **** 
 190:../../application/src/fobFirmware.c **** /**
 191:../../application/src/fobFirmware.c ****  * @brief Function that handles enabling a new feature on the fob
 192:../../application/src/fobFirmware.c ****  *
 193:../../application/src/fobFirmware.c ****  * @param fob_state_ram pointer to the current fob state in ram
 194:../../application/src/fobFirmware.c ****  */
 195:../../application/src/fobFirmware.c **** void enableFeature(FLASH_DATA *fob_state_ram)
 196:../../application/src/fobFirmware.c **** {
 177              		.loc 1 196 1 is_stmt 1 view -0
 178              		.cfi_startproc
 179              		@ args = 0, pretend = 0, frame = 24
 180              		@ frame_needed = 0, uses_anonymous_args = 0
 197:../../application/src/fobFirmware.c ****   if (fob_state_ram->paired == FLASH_PAIRED)
 181              		.loc 1 197 3 view .LVU40
 182              		.loc 1 197 20 is_stmt 0 view .LVU41
 183 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 184              		.loc 1 197 6 view .LVU42
 185 0002 03B1     		cbz	r3, .L17
 186 0004 7047     		bx	lr
 187              	.L17:
 196:../../application/src/fobFirmware.c ****   if (fob_state_ram->paired == FLASH_PAIRED)
 188              		.loc 1 196 1 view .LVU43
 189 0006 10B5     		push	{r4, lr}
 190              	.LCFI3:
 191              		.cfi_def_cfa_offset 8
 192              		.cfi_offset 4, -8
 193              		.cfi_offset 14, -4
 194 0008 86B0     		sub	sp, sp, #24
 195              	.LCFI4:
 196              		.cfi_def_cfa_offset 32
 197 000a 0446     		mov	r4, r0
 198              	.LBB3:
 198:../../application/src/fobFirmware.c ****   {
 199:../../application/src/fobFirmware.c ****     uint8_t uart_buffer[20];
 199              		.loc 1 199 5 is_stmt 1 view .LVU44
 200:../../application/src/fobFirmware.c ****     uart_readline(HOST_UART, uart_buffer);
ARM GAS  /tmp/ccgekplO.s 			page 8


 200              		.loc 1 200 5 view .LVU45
 201 000c 01A9     		add	r1, sp, #4
 202 000e 0020     		movs	r0, #0
 203              	.LVL16:
 204              		.loc 1 200 5 is_stmt 0 view .LVU46
 205 0010 FFF7FEFF 		bl	uart_readline
 206              	.LVL17:
 201:../../application/src/fobFirmware.c **** 
 202:../../application/src/fobFirmware.c ****     ENABLE_PACKET *enable_message = (ENABLE_PACKET *)uart_buffer;
 207              		.loc 1 202 5 is_stmt 1 view .LVU47
 203:../../application/src/fobFirmware.c ****     if (strcmp((char *)fob_state_ram->pair_info.car_id,
 208              		.loc 1 203 5 view .LVU48
 209              		.loc 1 203 9 is_stmt 0 view .LVU49
 210 0014 01A9     		add	r1, sp, #4
 211              	.LVL18:
 212              		.loc 1 203 9 view .LVU50
 213 0016 601C     		adds	r0, r4, #1
 214 0018 FFF7FEFF 		bl	strcmp
 215              	.LVL19:
 216              		.loc 1 203 8 view .LVU51
 217 001c 0346     		mov	r3, r0
 218 001e F0B9     		cbnz	r0, .L8
 204:../../application/src/fobFirmware.c ****                (char *)enable_message->car_id))
 205:../../application/src/fobFirmware.c ****     {
 206:../../application/src/fobFirmware.c ****       return;
 207:../../application/src/fobFirmware.c ****     }
 208:../../application/src/fobFirmware.c **** 
 209:../../application/src/fobFirmware.c ****     // Feature list full
 210:../../application/src/fobFirmware.c ****     if (fob_state_ram->feature_info.num_active == NUM_FEATURES)
 219              		.loc 1 210 5 is_stmt 1 view .LVU52
 220              		.loc 1 210 36 is_stmt 0 view .LVU53
 221 0020 94F82100 		ldrb	r0, [r4, #33]	@ zero_extendqisi2
 222              		.loc 1 210 8 view .LVU54
 223 0024 0328     		cmp	r0, #3
 224 0026 1AD0     		beq	.L8
 225              	.L11:
 226              	.LVL20:
 227              	.LBB4:
 211:../../application/src/fobFirmware.c ****     {
 212:../../application/src/fobFirmware.c ****       return;
 213:../../application/src/fobFirmware.c ****     }
 214:../../application/src/fobFirmware.c **** 
 215:../../application/src/fobFirmware.c ****     // Search for feature in list
 216:../../application/src/fobFirmware.c ****     for (int i = 0; i < fob_state_ram->feature_info.num_active; i++)
 228              		.loc 1 216 21 is_stmt 1 discriminator 1 view .LVU55
 229              		.loc 1 216 5 is_stmt 0 discriminator 1 view .LVU56
 230 0028 9842     		cmp	r0, r3
 231 002a 08DD     		ble	.L18
 217:../../application/src/fobFirmware.c ****     {
 218:../../application/src/fobFirmware.c ****       if (fob_state_ram->feature_info.features[i] == enable_message->feature)
 232              		.loc 1 218 7 is_stmt 1 view .LVU57
 233              		.loc 1 218 47 is_stmt 0 view .LVU58
 234 002c E218     		adds	r2, r4, r3
 235 002e 92F82210 		ldrb	r1, [r2, #34]	@ zero_extendqisi2
 236              		.loc 1 218 68 view .LVU59
 237 0032 9DF80C20 		ldrb	r2, [sp, #12]	@ zero_extendqisi2
 238              		.loc 1 218 10 view .LVU60
ARM GAS  /tmp/ccgekplO.s 			page 9


 239 0036 9142     		cmp	r1, r2
 240 0038 11D0     		beq	.L8
 216:../../application/src/fobFirmware.c ****     {
 241              		.loc 1 216 65 is_stmt 1 discriminator 2 view .LVU61
 216:../../application/src/fobFirmware.c ****     {
 242              		.loc 1 216 66 is_stmt 0 discriminator 2 view .LVU62
 243 003a 0133     		adds	r3, r3, #1
 244              	.LVL21:
 216:../../application/src/fobFirmware.c ****     {
 245              		.loc 1 216 66 discriminator 2 view .LVU63
 246 003c F4E7     		b	.L11
 247              	.L18:
 216:../../application/src/fobFirmware.c ****     {
 248              		.loc 1 216 66 discriminator 2 view .LVU64
 249              	.LBE4:
 219:../../application/src/fobFirmware.c ****       {
 220:../../application/src/fobFirmware.c ****         return;
 221:../../application/src/fobFirmware.c ****       }
 222:../../application/src/fobFirmware.c ****     }
 223:../../application/src/fobFirmware.c **** 
 224:../../application/src/fobFirmware.c ****     fob_state_ram->feature_info
 250              		.loc 1 224 5 is_stmt 1 view .LVU65
 225:../../application/src/fobFirmware.c ****         .features[fob_state_ram->feature_info.num_active] =
 226:../../application/src/fobFirmware.c ****         enable_message->feature;
 251              		.loc 1 226 23 is_stmt 0 view .LVU66
 252 003e 9DF80C20 		ldrb	r2, [sp, #12]	@ zero_extendqisi2
 225:../../application/src/fobFirmware.c ****         .features[fob_state_ram->feature_info.num_active] =
 253              		.loc 1 225 59 view .LVU67
 254 0042 2318     		adds	r3, r4, r0
 255              	.LVL22:
 225:../../application/src/fobFirmware.c ****         .features[fob_state_ram->feature_info.num_active] =
 256              		.loc 1 225 59 view .LVU68
 257 0044 83F82220 		strb	r2, [r3, #34]
 227:../../application/src/fobFirmware.c ****     fob_state_ram->feature_info.num_active++;
 258              		.loc 1 227 5 is_stmt 1 view .LVU69
 259              		.loc 1 227 43 is_stmt 0 view .LVU70
 260 0048 0130     		adds	r0, r0, #1
 261 004a 84F82100 		strb	r0, [r4, #33]
 228:../../application/src/fobFirmware.c **** 
 229:../../application/src/fobFirmware.c ****     saveFobState(fob_state_ram);
 262              		.loc 1 229 5 is_stmt 1 view .LVU71
 263 004e 2046     		mov	r0, r4
 264 0050 FFF7FEFF 		bl	saveFobState
 265              	.LVL23:
 230:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, (uint8_t *)"Enabled", 7);
 266              		.loc 1 230 5 view .LVU72
 267 0054 0722     		movs	r2, #7
 268 0056 0349     		ldr	r1, .L19
 269 0058 0020     		movs	r0, #0
 270 005a FFF7FEFF 		bl	uart_write
 271              	.LVL24:
 272              	.L8:
 273              		.loc 1 230 5 is_stmt 0 view .LVU73
 274              	.LBE3:
 231:../../application/src/fobFirmware.c ****   }
 232:../../application/src/fobFirmware.c **** }
 275              		.loc 1 232 1 view .LVU74
ARM GAS  /tmp/ccgekplO.s 			page 10


 276 005e 06B0     		add	sp, sp, #24
 277              	.LCFI5:
 278              		.cfi_def_cfa_offset 8
 279              		@ sp needed
 280 0060 10BD     		pop	{r4, pc}
 281              	.LVL25:
 282              	.L20:
 283              		.loc 1 232 1 view .LVU75
 284 0062 00BF     		.align	2
 285              	.L19:
 286 0064 00000000 		.word	.LC2
 287              		.cfi_endproc
 288              	.LFE2:
 290              		.section	.rodata.unlockCar.str1.4,"aMS",%progbits,1
 291              		.align	2
 292              	.LC3:
 293 0000 50573A20 		.ascii	"PW: \000"
 293      00
 294              		.section	.text.unlockCar,"ax",%progbits
 295              		.align	1
 296              		.global	unlockCar
 297              		.syntax unified
 298              		.thumb
 299              		.thumb_func
 300              		.fpu fpv4-sp-d16
 302              	unlockCar:
 303              	.LVL26:
 304              	.LFB3:
 233:../../application/src/fobFirmware.c **** 
 234:../../application/src/fobFirmware.c **** /**
 235:../../application/src/fobFirmware.c ****  * @brief Function that handles the fob unlocking a car
 236:../../application/src/fobFirmware.c ****  *
 237:../../application/src/fobFirmware.c ****  * @param fob_state_ram pointer to the current fob state in ram
 238:../../application/src/fobFirmware.c ****  */
 239:../../application/src/fobFirmware.c **** void unlockCar(FLASH_DATA *fob_state_ram)
 240:../../application/src/fobFirmware.c **** {
 305              		.loc 1 240 1 is_stmt 1 view -0
 306              		.cfi_startproc
 307              		@ args = 0, pretend = 0, frame = 16
 308              		@ frame_needed = 0, uses_anonymous_args = 0
 241:../../application/src/fobFirmware.c ****   if (fob_state_ram->paired == FLASH_PAIRED)
 309              		.loc 1 241 3 view .LVU77
 310              		.loc 1 241 20 is_stmt 0 view .LVU78
 311 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 312              		.loc 1 241 6 view .LVU79
 313 0002 03B1     		cbz	r3, .L27
 314 0004 7047     		bx	lr
 315              	.L27:
 240:../../application/src/fobFirmware.c ****   if (fob_state_ram->paired == FLASH_PAIRED)
 316              		.loc 1 240 1 view .LVU80
 317 0006 00B5     		push	{lr}
 318              	.LCFI6:
 319              		.cfi_def_cfa_offset 4
 320              		.cfi_offset 14, -4
 321 0008 85B0     		sub	sp, sp, #20
 322              	.LCFI7:
 323              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccgekplO.s 			page 11


 324              	.LBB5:
 242:../../application/src/fobFirmware.c ****   {
 243:../../application/src/fobFirmware.c ****     MESSAGE_PACKET message;
 325              		.loc 1 243 5 is_stmt 1 view .LVU81
 244:../../application/src/fobFirmware.c ****     message.message_len = 6;
 326              		.loc 1 244 5 view .LVU82
 327              		.loc 1 244 25 is_stmt 0 view .LVU83
 328 000a 0623     		movs	r3, #6
 329 000c 8DF80930 		strb	r3, [sp, #9]
 245:../../application/src/fobFirmware.c ****     message.magic = UNLOCK_MAGIC;
 330              		.loc 1 245 5 is_stmt 1 view .LVU84
 331              		.loc 1 245 19 is_stmt 0 view .LVU85
 332 0010 5623     		movs	r3, #86
 333 0012 8DF80830 		strb	r3, [sp, #8]
 246:../../application/src/fobFirmware.c ****     message.buffer = fob_state_ram->pair_info.password;
 334              		.loc 1 246 5 is_stmt 1 view .LVU86
 335              		.loc 1 246 22 is_stmt 0 view .LVU87
 336 0016 0930     		adds	r0, r0, #9
 337              	.LVL27:
 338              		.loc 1 246 20 view .LVU88
 339 0018 0390     		str	r0, [sp, #12]
 247:../../application/src/fobFirmware.c **** 
 248:../../application/src/fobFirmware.c ****     char msg[] = "PW: ";
 340              		.loc 1 248 5 is_stmt 1 view .LVU89
 341              		.loc 1 248 10 is_stmt 0 view .LVU90
 342 001a 0F4B     		ldr	r3, .L28
 343 001c 93E80300 		ldm	r3, {r0, r1}
 344              	.LVL28:
 345              		.loc 1 248 10 view .LVU91
 346 0020 0090     		str	r0, [sp]
 347 0022 8DF80410 		strb	r1, [sp, #4]
 249:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 348              		.loc 1 249 5 is_stmt 1 view .LVU92
 349              		.loc 1 249 42 is_stmt 0 view .LVU93
 350 0026 6846     		mov	r0, sp
 351 0028 FFF7FEFF 		bl	strlen
 352              	.LVL29:
 353              		.loc 1 249 42 view .LVU94
 354 002c 0246     		mov	r2, r0
 355              		.loc 1 249 5 view .LVU95
 356 002e 6946     		mov	r1, sp
 357 0030 0020     		movs	r0, #0
 358 0032 FFF7FEFF 		bl	uart_write
 359              	.LVL30:
 250:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, message.buffer, message.message_len);
 360              		.loc 1 250 5 is_stmt 1 view .LVU96
 361 0036 9DF80920 		ldrb	r2, [sp, #9]	@ zero_extendqisi2
 362 003a 0399     		ldr	r1, [sp, #12]
 363 003c 0020     		movs	r0, #0
 364 003e FFF7FEFF 		bl	uart_write
 365              	.LVL31:
 251:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\n');
 366              		.loc 1 251 5 view .LVU97
 367 0042 0A21     		movs	r1, #10
 368 0044 0020     		movs	r0, #0
 369 0046 FFF7FEFF 		bl	uart_writeb
 370              	.LVL32:
ARM GAS  /tmp/ccgekplO.s 			page 12


 252:../../application/src/fobFirmware.c **** 
 253:../../application/src/fobFirmware.c ****     send_board_message(&message);
 371              		.loc 1 253 5 view .LVU98
 372 004a 02A8     		add	r0, sp, #8
 373 004c FFF7FEFF 		bl	send_board_message
 374              	.LVL33:
 375              	.LBE5:
 254:../../application/src/fobFirmware.c ****   }
 255:../../application/src/fobFirmware.c **** }
 376              		.loc 1 255 1 is_stmt 0 view .LVU99
 377 0050 05B0     		add	sp, sp, #20
 378              	.LCFI8:
 379              		.cfi_def_cfa_offset 4
 380              		@ sp needed
 381 0052 5DF804FB 		ldr	pc, [sp], #4
 382              	.L29:
 383 0056 00BF     		.align	2
 384              	.L28:
 385 0058 00000000 		.word	.LC3
 386              		.cfi_endproc
 387              	.LFE3:
 389              		.section	.rodata.startCar.str1.4,"aMS",%progbits,1
 390              		.align	2
 391              	.LC4:
 392 0000 43617220 		.ascii	"Car ID: \000"
 392      49443A20 
 392      00
 393 0009 000000   		.align	2
 394              	.LC5:
 395 000c 4E756D20 		.ascii	"Num active: \000"
 395      61637469 
 395      76653A20 
 395      00
 396 0019 000000   		.align	2
 397              	.LC6:
 398 001c 46656174 		.ascii	"Feature[0]: \000"
 398      7572655B 
 398      305D3A20 
 398      00
 399 0029 000000   		.align	2
 400              	.LC7:
 401 002c 46656174 		.ascii	"Feature[1]: \000"
 401      7572655B 
 401      315D3A20 
 401      00
 402 0039 000000   		.align	2
 403              	.LC8:
 404 003c 46656174 		.ascii	"Feature[2]: \000"
 404      7572655B 
 404      325D3A20 
 404      00
 405              		.section	.text.startCar,"ax",%progbits
 406              		.align	1
 407              		.global	startCar
 408              		.syntax unified
 409              		.thumb
 410              		.thumb_func
ARM GAS  /tmp/ccgekplO.s 			page 13


 411              		.fpu fpv4-sp-d16
 413              	startCar:
 414              	.LVL34:
 415              	.LFB4:
 256:../../application/src/fobFirmware.c **** 
 257:../../application/src/fobFirmware.c **** /**
 258:../../application/src/fobFirmware.c ****  * @brief Function that handles the fob starting a car
 259:../../application/src/fobFirmware.c ****  *
 260:../../application/src/fobFirmware.c ****  * @param fob_state_ram pointer to the current fob state in ram
 261:../../application/src/fobFirmware.c ****  */
 262:../../application/src/fobFirmware.c **** void startCar(FLASH_DATA *fob_state_ram)
 263:../../application/src/fobFirmware.c **** {
 416              		.loc 1 263 1 is_stmt 1 view -0
 417              		.cfi_startproc
 418              		@ args = 0, pretend = 0, frame = 72
 419              		@ frame_needed = 0, uses_anonymous_args = 0
 420              		.loc 1 263 1 is_stmt 0 view .LVU101
 421 0000 30B5     		push	{r4, r5, lr}
 422              	.LCFI9:
 423              		.cfi_def_cfa_offset 12
 424              		.cfi_offset 4, -12
 425              		.cfi_offset 5, -8
 426              		.cfi_offset 14, -4
 427 0002 93B0     		sub	sp, sp, #76
 428              	.LCFI10:
 429              		.cfi_def_cfa_offset 88
 430 0004 0446     		mov	r4, r0
 264:../../application/src/fobFirmware.c ****   char msg[64] = {0};
 431              		.loc 1 264 3 is_stmt 1 view .LVU102
 432              		.loc 1 264 8 is_stmt 0 view .LVU103
 433 0006 0021     		movs	r1, #0
 434 0008 0291     		str	r1, [sp, #8]
 435 000a 3C22     		movs	r2, #60
 436 000c 03A8     		add	r0, sp, #12
 437              	.LVL35:
 438              		.loc 1 264 8 view .LVU104
 439 000e FFF7FEFF 		bl	memset
 440              	.LVL36:
 265:../../application/src/fobFirmware.c **** 
 266:../../application/src/fobFirmware.c ****   if (fob_state_ram->paired == FLASH_PAIRED)
 441              		.loc 1 266 3 is_stmt 1 view .LVU105
 442              		.loc 1 266 20 is_stmt 0 view .LVU106
 443 0012 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 444              		.loc 1 266 6 view .LVU107
 445 0014 0BB1     		cbz	r3, .L33
 446              	.L30:
 267:../../application/src/fobFirmware.c ****   {
 268:../../application/src/fobFirmware.c ****     MESSAGE_PACKET message;
 269:../../application/src/fobFirmware.c ****     message.magic = START_MAGIC;
 270:../../application/src/fobFirmware.c ****     message.message_len = sizeof(FEATURE_DATA);
 271:../../application/src/fobFirmware.c ****     message.buffer = (uint8_t *)&fob_state_ram->feature_info;  
 272:../../application/src/fobFirmware.c **** 
 273:../../application/src/fobFirmware.c ****     strcpy(msg, "Car ID: ");
 274:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 275:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, fob_state_ram->feature_info.car_id, 8);
 276:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\n');
 277:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\r');
ARM GAS  /tmp/ccgekplO.s 			page 14


 278:../../application/src/fobFirmware.c **** 
 279:../../application/src/fobFirmware.c ****     strcpy(msg, "Num active: ");
 280:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 281:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.num_active);
 282:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\n');
 283:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\r');
 284:../../application/src/fobFirmware.c **** 
 285:../../application/src/fobFirmware.c ****     strcpy(msg, "Feature[0]: ");
 286:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 287:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.features[0]);
 288:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\n');
 289:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\r');
 290:../../application/src/fobFirmware.c **** 
 291:../../application/src/fobFirmware.c ****     strcpy(msg, "Feature[1]: ");
 292:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 293:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.features[1]);
 294:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\n');
 295:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\r');
 296:../../application/src/fobFirmware.c **** 
 297:../../application/src/fobFirmware.c ****     strcpy(msg, "Feature[2]: ");
 298:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 299:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.features[2]);
 300:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\n');
 301:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\r');
 302:../../application/src/fobFirmware.c **** 
 303:../../application/src/fobFirmware.c ****     send_board_message(&message);
 304:../../application/src/fobFirmware.c ****   }
 305:../../application/src/fobFirmware.c **** }
 447              		.loc 1 305 1 view .LVU108
 448 0016 13B0     		add	sp, sp, #76
 449              	.LCFI11:
 450              		.cfi_remember_state
 451              		.cfi_def_cfa_offset 12
 452              		@ sp needed
 453 0018 30BD     		pop	{r4, r5, pc}
 454              	.LVL37:
 455              	.L33:
 456              	.LCFI12:
 457              		.cfi_restore_state
 458              	.LBB6:
 268:../../application/src/fobFirmware.c ****     message.magic = START_MAGIC;
 459              		.loc 1 268 5 is_stmt 1 view .LVU109
 269:../../application/src/fobFirmware.c ****     message.message_len = sizeof(FEATURE_DATA);
 460              		.loc 1 269 5 view .LVU110
 269:../../application/src/fobFirmware.c ****     message.message_len = sizeof(FEATURE_DATA);
 461              		.loc 1 269 19 is_stmt 0 view .LVU111
 462 001a 5723     		movs	r3, #87
 463 001c 8DF80030 		strb	r3, [sp]
 270:../../application/src/fobFirmware.c ****     message.buffer = (uint8_t *)&fob_state_ram->feature_info;  
 464              		.loc 1 270 5 is_stmt 1 view .LVU112
 270:../../application/src/fobFirmware.c ****     message.buffer = (uint8_t *)&fob_state_ram->feature_info;  
 465              		.loc 1 270 25 is_stmt 0 view .LVU113
 466 0020 0C23     		movs	r3, #12
 467 0022 8DF80130 		strb	r3, [sp, #1]
 271:../../application/src/fobFirmware.c **** 
 468              		.loc 1 271 5 is_stmt 1 view .LVU114
 271:../../application/src/fobFirmware.c **** 
ARM GAS  /tmp/ccgekplO.s 			page 15


 469              		.loc 1 271 33 is_stmt 0 view .LVU115
 470 0026 04F11905 		add	r5, r4, #25
 271:../../application/src/fobFirmware.c **** 
 471              		.loc 1 271 20 view .LVU116
 472 002a 0195     		str	r5, [sp, #4]
 273:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 473              		.loc 1 273 5 is_stmt 1 view .LVU117
 474 002c 484A     		ldr	r2, .L34
 475 002e 02AB     		add	r3, sp, #8
 476 0030 07CA     		ldm	r2, {r0, r1, r2}
 477 0032 03C3     		stmia	r3!, {r0, r1}
 478 0034 1A70     		strb	r2, [r3]
 274:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, fob_state_ram->feature_info.car_id, 8);
 479              		.loc 1 274 5 view .LVU118
 274:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, fob_state_ram->feature_info.car_id, 8);
 480              		.loc 1 274 42 is_stmt 0 view .LVU119
 481 0036 02A8     		add	r0, sp, #8
 482 0038 FFF7FEFF 		bl	strlen
 483              	.LVL38:
 484 003c 0246     		mov	r2, r0
 274:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, fob_state_ram->feature_info.car_id, 8);
 485              		.loc 1 274 5 view .LVU120
 486 003e 02A9     		add	r1, sp, #8
 487 0040 0020     		movs	r0, #0
 488 0042 FFF7FEFF 		bl	uart_write
 489              	.LVL39:
 275:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\n');
 490              		.loc 1 275 5 is_stmt 1 view .LVU121
 491 0046 0822     		movs	r2, #8
 492 0048 2946     		mov	r1, r5
 493 004a 0020     		movs	r0, #0
 494 004c FFF7FEFF 		bl	uart_write
 495              	.LVL40:
 276:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\r');
 496              		.loc 1 276 5 view .LVU122
 497 0050 0A21     		movs	r1, #10
 498 0052 0020     		movs	r0, #0
 499 0054 FFF7FEFF 		bl	uart_writeb
 500              	.LVL41:
 277:../../application/src/fobFirmware.c **** 
 501              		.loc 1 277 5 view .LVU123
 502 0058 0D21     		movs	r1, #13
 503 005a 0020     		movs	r0, #0
 504 005c FFF7FEFF 		bl	uart_writeb
 505              	.LVL42:
 279:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 506              		.loc 1 279 5 view .LVU124
 507 0060 3C4B     		ldr	r3, .L34+4
 508 0062 0DF1080C 		add	ip, sp, #8
 509 0066 0FCB     		ldm	r3, {r0, r1, r2, r3}
 510 0068 ACE80700 		stmia	ip!, {r0, r1, r2}
 511 006c 8CF80030 		strb	r3, [ip]
 280:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.num_active);
 512              		.loc 1 280 5 view .LVU125
 280:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.num_active);
 513              		.loc 1 280 42 is_stmt 0 view .LVU126
 514 0070 02A8     		add	r0, sp, #8
ARM GAS  /tmp/ccgekplO.s 			page 16


 515 0072 FFF7FEFF 		bl	strlen
 516              	.LVL43:
 517 0076 0246     		mov	r2, r0
 280:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.num_active);
 518              		.loc 1 280 5 view .LVU127
 519 0078 02A9     		add	r1, sp, #8
 520 007a 0020     		movs	r0, #0
 521 007c FFF7FEFF 		bl	uart_write
 522              	.LVL44:
 281:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\n');
 523              		.loc 1 281 5 is_stmt 1 view .LVU128
 524 0080 94F82110 		ldrb	r1, [r4, #33]	@ zero_extendqisi2
 525 0084 0020     		movs	r0, #0
 526 0086 FFF7FEFF 		bl	uart_writeb
 527              	.LVL45:
 282:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\r');
 528              		.loc 1 282 5 view .LVU129
 529 008a 0A21     		movs	r1, #10
 530 008c 0020     		movs	r0, #0
 531 008e FFF7FEFF 		bl	uart_writeb
 532              	.LVL46:
 283:../../application/src/fobFirmware.c **** 
 533              		.loc 1 283 5 view .LVU130
 534 0092 0D21     		movs	r1, #13
 535 0094 0020     		movs	r0, #0
 536 0096 FFF7FEFF 		bl	uart_writeb
 537              	.LVL47:
 285:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 538              		.loc 1 285 5 view .LVU131
 539 009a 2F4B     		ldr	r3, .L34+8
 540 009c 0DF1080C 		add	ip, sp, #8
 541 00a0 0FCB     		ldm	r3, {r0, r1, r2, r3}
 542 00a2 ACE80700 		stmia	ip!, {r0, r1, r2}
 543 00a6 8CF80030 		strb	r3, [ip]
 286:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.features[0]);
 544              		.loc 1 286 5 view .LVU132
 286:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.features[0]);
 545              		.loc 1 286 42 is_stmt 0 view .LVU133
 546 00aa 02A8     		add	r0, sp, #8
 547 00ac FFF7FEFF 		bl	strlen
 548              	.LVL48:
 549 00b0 0246     		mov	r2, r0
 286:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.features[0]);
 550              		.loc 1 286 5 view .LVU134
 551 00b2 02A9     		add	r1, sp, #8
 552 00b4 0020     		movs	r0, #0
 553 00b6 FFF7FEFF 		bl	uart_write
 554              	.LVL49:
 287:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\n');
 555              		.loc 1 287 5 is_stmt 1 view .LVU135
 556 00ba 94F82210 		ldrb	r1, [r4, #34]	@ zero_extendqisi2
 557 00be 0020     		movs	r0, #0
 558 00c0 FFF7FEFF 		bl	uart_writeb
 559              	.LVL50:
 288:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\r');
 560              		.loc 1 288 5 view .LVU136
 561 00c4 0A21     		movs	r1, #10
ARM GAS  /tmp/ccgekplO.s 			page 17


 562 00c6 0020     		movs	r0, #0
 563 00c8 FFF7FEFF 		bl	uart_writeb
 564              	.LVL51:
 289:../../application/src/fobFirmware.c **** 
 565              		.loc 1 289 5 view .LVU137
 566 00cc 0D21     		movs	r1, #13
 567 00ce 0020     		movs	r0, #0
 568 00d0 FFF7FEFF 		bl	uart_writeb
 569              	.LVL52:
 291:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 570              		.loc 1 291 5 view .LVU138
 571 00d4 214B     		ldr	r3, .L34+12
 572 00d6 0DF1080C 		add	ip, sp, #8
 573 00da 0FCB     		ldm	r3, {r0, r1, r2, r3}
 574 00dc ACE80700 		stmia	ip!, {r0, r1, r2}
 575 00e0 8CF80030 		strb	r3, [ip]
 292:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.features[1]);
 576              		.loc 1 292 5 view .LVU139
 292:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.features[1]);
 577              		.loc 1 292 42 is_stmt 0 view .LVU140
 578 00e4 02A8     		add	r0, sp, #8
 579 00e6 FFF7FEFF 		bl	strlen
 580              	.LVL53:
 581 00ea 0246     		mov	r2, r0
 292:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.features[1]);
 582              		.loc 1 292 5 view .LVU141
 583 00ec 02A9     		add	r1, sp, #8
 584 00ee 0020     		movs	r0, #0
 585 00f0 FFF7FEFF 		bl	uart_write
 586              	.LVL54:
 293:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\n');
 587              		.loc 1 293 5 is_stmt 1 view .LVU142
 588 00f4 94F82310 		ldrb	r1, [r4, #35]	@ zero_extendqisi2
 589 00f8 0020     		movs	r0, #0
 590 00fa FFF7FEFF 		bl	uart_writeb
 591              	.LVL55:
 294:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\r');
 592              		.loc 1 294 5 view .LVU143
 593 00fe 0A21     		movs	r1, #10
 594 0100 0020     		movs	r0, #0
 595 0102 FFF7FEFF 		bl	uart_writeb
 596              	.LVL56:
 295:../../application/src/fobFirmware.c **** 
 597              		.loc 1 295 5 view .LVU144
 598 0106 0D21     		movs	r1, #13
 599 0108 0020     		movs	r0, #0
 600 010a FFF7FEFF 		bl	uart_writeb
 601              	.LVL57:
 297:../../application/src/fobFirmware.c ****     uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 602              		.loc 1 297 5 view .LVU145
 603 010e 144B     		ldr	r3, .L34+16
 604 0110 0DF1080C 		add	ip, sp, #8
 605 0114 0FCB     		ldm	r3, {r0, r1, r2, r3}
 606 0116 ACE80700 		stmia	ip!, {r0, r1, r2}
 607 011a 8CF80030 		strb	r3, [ip]
 298:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.features[2]);
 608              		.loc 1 298 5 view .LVU146
ARM GAS  /tmp/ccgekplO.s 			page 18


 298:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.features[2]);
 609              		.loc 1 298 42 is_stmt 0 view .LVU147
 610 011e 02A8     		add	r0, sp, #8
 611 0120 FFF7FEFF 		bl	strlen
 612              	.LVL58:
 613 0124 0246     		mov	r2, r0
 298:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, fob_state_ram->feature_info.features[2]);
 614              		.loc 1 298 5 view .LVU148
 615 0126 02A9     		add	r1, sp, #8
 616 0128 0020     		movs	r0, #0
 617 012a FFF7FEFF 		bl	uart_write
 618              	.LVL59:
 299:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\n');
 619              		.loc 1 299 5 is_stmt 1 view .LVU149
 620 012e 94F82410 		ldrb	r1, [r4, #36]	@ zero_extendqisi2
 621 0132 0020     		movs	r0, #0
 622 0134 FFF7FEFF 		bl	uart_writeb
 623              	.LVL60:
 300:../../application/src/fobFirmware.c ****     uart_writeb(HOST_UART, '\r');
 624              		.loc 1 300 5 view .LVU150
 625 0138 0A21     		movs	r1, #10
 626 013a 0020     		movs	r0, #0
 627 013c FFF7FEFF 		bl	uart_writeb
 628              	.LVL61:
 301:../../application/src/fobFirmware.c **** 
 629              		.loc 1 301 5 view .LVU151
 630 0140 0D21     		movs	r1, #13
 631 0142 0020     		movs	r0, #0
 632 0144 FFF7FEFF 		bl	uart_writeb
 633              	.LVL62:
 303:../../application/src/fobFirmware.c ****   }
 634              		.loc 1 303 5 view .LVU152
 635 0148 6846     		mov	r0, sp
 636 014a FFF7FEFF 		bl	send_board_message
 637              	.LVL63:
 638              	.LBE6:
 639              		.loc 1 305 1 is_stmt 0 view .LVU153
 640 014e 62E7     		b	.L30
 641              	.L35:
 642              		.align	2
 643              	.L34:
 644 0150 00000000 		.word	.LC4
 645 0154 0C000000 		.word	.LC5
 646 0158 1C000000 		.word	.LC6
 647 015c 2C000000 		.word	.LC7
 648 0160 3C000000 		.word	.LC8
 649              		.cfi_endproc
 650              	.LFE4:
 652              		.section	.text.receiveAck,"ax",%progbits
 653              		.align	1
 654              		.global	receiveAck
 655              		.syntax unified
 656              		.thumb
 657              		.thumb_func
 658              		.fpu fpv4-sp-d16
 660              	receiveAck:
 661              	.LFB5:
ARM GAS  /tmp/ccgekplO.s 			page 19


 306:../../application/src/fobFirmware.c **** 
 307:../../application/src/fobFirmware.c **** /**
 308:../../application/src/fobFirmware.c ****  * @brief Function that receives an ack and returns whether ack was
 309:../../application/src/fobFirmware.c ****  * success/failure
 310:../../application/src/fobFirmware.c ****  *
 311:../../application/src/fobFirmware.c ****  * @return uint8_t Ack success/failure
 312:../../application/src/fobFirmware.c ****  */
 313:../../application/src/fobFirmware.c **** uint8_t receiveAck()
 314:../../application/src/fobFirmware.c **** {
 662              		.loc 1 314 1 is_stmt 1 view -0
 663              		.cfi_startproc
 664              		@ args = 0, pretend = 0, frame = 264
 665              		@ frame_needed = 0, uses_anonymous_args = 0
 666 0000 00B5     		push	{lr}
 667              	.LCFI13:
 668              		.cfi_def_cfa_offset 4
 669              		.cfi_offset 14, -4
 670 0002 C3B0     		sub	sp, sp, #268
 671              	.LCFI14:
 672              		.cfi_def_cfa_offset 272
 315:../../application/src/fobFirmware.c ****   MESSAGE_PACKET message;
 673              		.loc 1 315 3 view .LVU155
 316:../../application/src/fobFirmware.c ****   uint8_t buffer[255];
 674              		.loc 1 316 3 view .LVU156
 317:../../application/src/fobFirmware.c ****   message.buffer = buffer;
 675              		.loc 1 317 3 view .LVU157
 676              		.loc 1 317 18 is_stmt 0 view .LVU158
 677 0004 CDF804D1 		str	sp, [sp, #260]
 318:../../application/src/fobFirmware.c ****   receive_board_message_by_type(&message, ACK_MAGIC);
 678              		.loc 1 318 3 is_stmt 1 view .LVU159
 679 0008 5421     		movs	r1, #84
 680 000a 40A8     		add	r0, sp, #256
 681 000c FFF7FEFF 		bl	receive_board_message_by_type
 682              	.LVL64:
 319:../../application/src/fobFirmware.c **** 
 320:../../application/src/fobFirmware.c ****   return message.buffer[0];
 683              		.loc 1 320 3 view .LVU160
 321:../../application/src/fobFirmware.c **** }
 684              		.loc 1 321 1 is_stmt 0 view .LVU161
 685 0010 419B     		ldr	r3, [sp, #260]
 686 0012 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 687 0014 43B0     		add	sp, sp, #268
 688              	.LCFI15:
 689              		.cfi_def_cfa_offset 4
 690              		@ sp needed
 691 0016 5DF804FB 		ldr	pc, [sp], #4
 692              		.cfi_endproc
 693              	.LFE5:
 695              		.section	.rodata.printFobState.str1.4,"aMS",%progbits,1
 696              		.align	2
 697              	.LC9:
 698 0000 3D3D3D3D 		.ascii	"=====Fob State=====\000"
 698      3D466F62 
 698      20537461 
 698      74653D3D 
 698      3D3D3D00 
 699              		.align	2
ARM GAS  /tmp/ccgekplO.s 			page 20


 700              	.LC10:
 701 0014 50616972 		.ascii	"Paired?: \000"
 701      65643F3A 
 701      2000
 702 001e 0000     		.align	2
 703              	.LC11:
 704 0020 2D2D2D50 		.ascii	"---Pair Info---\000"
 704      61697220 
 704      496E666F 
 704      2D2D2D00 
 705              		.align	2
 706              	.LC12:
 707 0030 50617373 		.ascii	"Password: \000"
 707      776F7264 
 707      3A2000
 708 003b 00       		.align	2
 709              	.LC13:
 710 003c 50696E3A 		.ascii	"Pin: \000"
 710      2000
 711 0042 0000     		.align	2
 712              	.LC14:
 713 0044 2D2D2D46 		.ascii	"---Feature Info---\000"
 713      65617475 
 713      72652049 
 713      6E666F2D 
 713      2D2D00
 714              		.section	.text.printFobState,"ax",%progbits
 715              		.align	1
 716              		.global	printFobState
 717              		.syntax unified
 718              		.thumb
 719              		.thumb_func
 720              		.fpu fpv4-sp-d16
 722              	printFobState:
 723              	.LVL65:
 724              	.LFB6:
 322:../../application/src/fobFirmware.c **** 
 323:../../application/src/fobFirmware.c **** void printFobState(FLASH_DATA *flash_data)
 324:../../application/src/fobFirmware.c **** {
 725              		.loc 1 324 1 is_stmt 1 view -0
 726              		.cfi_startproc
 727              		@ args = 0, pretend = 0, frame = 64
 728              		@ frame_needed = 0, uses_anonymous_args = 0
 729              		.loc 1 324 1 is_stmt 0 view .LVU163
 730 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 731              	.LCFI16:
 732              		.cfi_def_cfa_offset 28
 733              		.cfi_offset 4, -28
 734              		.cfi_offset 5, -24
 735              		.cfi_offset 6, -20
 736              		.cfi_offset 7, -16
 737              		.cfi_offset 8, -12
 738              		.cfi_offset 9, -8
 739              		.cfi_offset 14, -4
 740 0004 91B0     		sub	sp, sp, #68
 741              	.LCFI17:
 742              		.cfi_def_cfa_offset 96
ARM GAS  /tmp/ccgekplO.s 			page 21


 743 0006 0646     		mov	r6, r0
 325:../../application/src/fobFirmware.c ****   char msg[64] = {0};
 744              		.loc 1 325 3 is_stmt 1 view .LVU164
 745              		.loc 1 325 8 is_stmt 0 view .LVU165
 746 0008 0024     		movs	r4, #0
 747 000a 0094     		str	r4, [sp]
 748 000c 3C22     		movs	r2, #60
 749 000e 2146     		mov	r1, r4
 750 0010 01A8     		add	r0, sp, #4
 751              	.LVL66:
 752              		.loc 1 325 8 view .LVU166
 753 0012 FFF7FEFF 		bl	memset
 754              	.LVL67:
 326:../../application/src/fobFirmware.c **** 
 327:../../application/src/fobFirmware.c ****   strcpy(msg, "=====Fob State=====");
 755              		.loc 1 327 3 is_stmt 1 view .LVU167
 756 0016 6D46     		mov	r5, sp
 757 0018 2F46     		mov	r7, r5
 758 001a DFF8A8C2 		ldr	ip, .L40+32
 759 001e BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 760 0022 0FC7     		stmia	r7!, {r0, r1, r2, r3}
 761 0024 DCF80030 		ldr	r3, [ip]
 762 0028 3B60     		str	r3, [r7]
 328:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 763              		.loc 1 328 3 view .LVU168
 764              		.loc 1 328 40 is_stmt 0 view .LVU169
 765 002a 2846     		mov	r0, r5
 766 002c FFF7FEFF 		bl	strlen
 767              	.LVL68:
 768 0030 0246     		mov	r2, r0
 769              		.loc 1 328 3 view .LVU170
 770 0032 2946     		mov	r1, r5
 771 0034 2046     		mov	r0, r4
 772 0036 FFF7FEFF 		bl	uart_write
 773              	.LVL69:
 329:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\n');
 774              		.loc 1 329 3 is_stmt 1 view .LVU171
 775 003a 0A21     		movs	r1, #10
 776 003c 2046     		mov	r0, r4
 777 003e FFF7FEFF 		bl	uart_writeb
 778              	.LVL70:
 330:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\r');
 779              		.loc 1 330 3 view .LVU172
 780 0042 0D21     		movs	r1, #13
 781 0044 2046     		mov	r0, r4
 782 0046 FFF7FEFF 		bl	uart_writeb
 783              	.LVL71:
 331:../../application/src/fobFirmware.c **** 
 332:../../application/src/fobFirmware.c ****   strcpy(msg, "Paired?: ");
 784              		.loc 1 332 3 view .LVU173
 785 004a 964A     		ldr	r2, .L40
 786 004c 2B46     		mov	r3, r5
 787 004e 07CA     		ldm	r2, {r0, r1, r2}
 788 0050 03C3     		stmia	r3!, {r0, r1}
 789 0052 1A80     		strh	r2, [r3]	@ movhi
 333:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 790              		.loc 1 333 3 view .LVU174
ARM GAS  /tmp/ccgekplO.s 			page 22


 791              		.loc 1 333 40 is_stmt 0 view .LVU175
 792 0054 2846     		mov	r0, r5
 793 0056 FFF7FEFF 		bl	strlen
 794              	.LVL72:
 795 005a 0246     		mov	r2, r0
 796              		.loc 1 333 3 view .LVU176
 797 005c 2946     		mov	r1, r5
 798 005e 2046     		mov	r0, r4
 799 0060 FFF7FEFF 		bl	uart_write
 800              	.LVL73:
 334:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, flash_data->paired);
 801              		.loc 1 334 3 is_stmt 1 view .LVU177
 802 0064 3746     		mov	r7, r6
 803 0066 17F8011B 		ldrb	r1, [r7], #1	@ zero_extendqisi2
 804 006a 2046     		mov	r0, r4
 805 006c FFF7FEFF 		bl	uart_writeb
 806              	.LVL74:
 335:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\n');
 807              		.loc 1 335 3 view .LVU178
 808 0070 0A21     		movs	r1, #10
 809 0072 2046     		mov	r0, r4
 810 0074 FFF7FEFF 		bl	uart_writeb
 811              	.LVL75:
 336:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\r');
 812              		.loc 1 336 3 view .LVU179
 813 0078 0D21     		movs	r1, #13
 814 007a 2046     		mov	r0, r4
 815 007c FFF7FEFF 		bl	uart_writeb
 816              	.LVL76:
 337:../../application/src/fobFirmware.c **** 
 338:../../application/src/fobFirmware.c ****   strcpy(msg, "---Pair Info---");
 817              		.loc 1 338 3 view .LVU180
 818 0080 894B     		ldr	r3, .L40+4
 819 0082 0FCB     		ldm	r3, {r0, r1, r2, r3}
 820 0084 85E80F00 		stm	r5, {r0, r1, r2, r3}
 339:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 821              		.loc 1 339 3 view .LVU181
 822              		.loc 1 339 40 is_stmt 0 view .LVU182
 823 0088 2846     		mov	r0, r5
 824 008a FFF7FEFF 		bl	strlen
 825              	.LVL77:
 826 008e 0246     		mov	r2, r0
 827              		.loc 1 339 3 view .LVU183
 828 0090 2946     		mov	r1, r5
 829 0092 2046     		mov	r0, r4
 830 0094 FFF7FEFF 		bl	uart_write
 831              	.LVL78:
 340:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\n');
 832              		.loc 1 340 3 is_stmt 1 view .LVU184
 833 0098 0A21     		movs	r1, #10
 834 009a 2046     		mov	r0, r4
 835 009c FFF7FEFF 		bl	uart_writeb
 836              	.LVL79:
 341:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\r');
 837              		.loc 1 341 3 view .LVU185
 838 00a0 0D21     		movs	r1, #13
 839 00a2 2046     		mov	r0, r4
ARM GAS  /tmp/ccgekplO.s 			page 23


 840 00a4 FFF7FEFF 		bl	uart_writeb
 841              	.LVL80:
 342:../../application/src/fobFirmware.c **** 
 343:../../application/src/fobFirmware.c ****   strcpy(msg, "Car ID: ");
 842              		.loc 1 343 3 view .LVU186
 843 00a8 DFF81C92 		ldr	r9, .L40+36
 844 00ac A846     		mov	r8, r5
 845 00ae 99E80700 		ldm	r9, {r0, r1, r2}
 846 00b2 A8E80300 		stmia	r8!, {r0, r1}
 847 00b6 88F80020 		strb	r2, [r8]
 344:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 848              		.loc 1 344 3 view .LVU187
 849              		.loc 1 344 40 is_stmt 0 view .LVU188
 850 00ba 2846     		mov	r0, r5
 851 00bc FFF7FEFF 		bl	strlen
 852              	.LVL81:
 853 00c0 0246     		mov	r2, r0
 854              		.loc 1 344 3 view .LVU189
 855 00c2 2946     		mov	r1, r5
 856 00c4 2046     		mov	r0, r4
 857 00c6 FFF7FEFF 		bl	uart_write
 858              	.LVL82:
 345:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, flash_data->pair_info.car_id, 8);
 859              		.loc 1 345 3 is_stmt 1 view .LVU190
 860 00ca 0822     		movs	r2, #8
 861 00cc 3946     		mov	r1, r7
 862 00ce 2046     		mov	r0, r4
 863 00d0 FFF7FEFF 		bl	uart_write
 864              	.LVL83:
 346:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\n');
 865              		.loc 1 346 3 view .LVU191
 866 00d4 0A21     		movs	r1, #10
 867 00d6 2046     		mov	r0, r4
 868 00d8 FFF7FEFF 		bl	uart_writeb
 869              	.LVL84:
 347:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\r');
 870              		.loc 1 347 3 view .LVU192
 871 00dc 0D21     		movs	r1, #13
 872 00de 2046     		mov	r0, r4
 873 00e0 FFF7FEFF 		bl	uart_writeb
 874              	.LVL85:
 348:../../application/src/fobFirmware.c **** 
 349:../../application/src/fobFirmware.c ****   strcpy(msg, "Password: ");
 875              		.loc 1 349 3 view .LVU193
 876 00e4 714A     		ldr	r2, .L40+8
 877 00e6 2B46     		mov	r3, r5
 878 00e8 07CA     		ldm	r2, {r0, r1, r2}
 879 00ea 03C3     		stmia	r3!, {r0, r1}
 880 00ec A8F80020 		strh	r2, [r8]	@ movhi
 881 00f0 120C     		lsrs	r2, r2, #16
 882 00f2 AA72     		strb	r2, [r5, #10]
 350:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 883              		.loc 1 350 3 view .LVU194
 884              		.loc 1 350 40 is_stmt 0 view .LVU195
 885 00f4 2846     		mov	r0, r5
 886 00f6 FFF7FEFF 		bl	strlen
 887              	.LVL86:
ARM GAS  /tmp/ccgekplO.s 			page 24


 888 00fa 0246     		mov	r2, r0
 889              		.loc 1 350 3 view .LVU196
 890 00fc 2946     		mov	r1, r5
 891 00fe 2046     		mov	r0, r4
 892 0100 FFF7FEFF 		bl	uart_write
 893              	.LVL87:
 351:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, flash_data->pair_info.password, 8);
 894              		.loc 1 351 3 is_stmt 1 view .LVU197
 895 0104 0822     		movs	r2, #8
 896 0106 06F10901 		add	r1, r6, #9
 897 010a 2046     		mov	r0, r4
 898 010c FFF7FEFF 		bl	uart_write
 899              	.LVL88:
 352:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\n');
 900              		.loc 1 352 3 view .LVU198
 901 0110 0A21     		movs	r1, #10
 902 0112 2046     		mov	r0, r4
 903 0114 FFF7FEFF 		bl	uart_writeb
 904              	.LVL89:
 353:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\r');
 905              		.loc 1 353 3 view .LVU199
 906 0118 0D21     		movs	r1, #13
 907 011a 2046     		mov	r0, r4
 908 011c FFF7FEFF 		bl	uart_writeb
 909              	.LVL90:
 354:../../application/src/fobFirmware.c **** 
 355:../../application/src/fobFirmware.c ****   strcpy(msg, "Pin: ");
 910              		.loc 1 355 3 view .LVU200
 911 0120 634B     		ldr	r3, .L40+12
 912 0122 93E80300 		ldm	r3, {r0, r1}
 913 0126 0090     		str	r0, [sp]
 914 0128 ADF80410 		strh	r1, [sp, #4]	@ movhi
 356:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 915              		.loc 1 356 3 view .LVU201
 916              		.loc 1 356 40 is_stmt 0 view .LVU202
 917 012c 2846     		mov	r0, r5
 918 012e FFF7FEFF 		bl	strlen
 919              	.LVL91:
 920 0132 0246     		mov	r2, r0
 921              		.loc 1 356 3 view .LVU203
 922 0134 2946     		mov	r1, r5
 923 0136 2046     		mov	r0, r4
 924 0138 FFF7FEFF 		bl	uart_write
 925              	.LVL92:
 357:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, flash_data->pair_info.pin, 8);
 926              		.loc 1 357 3 is_stmt 1 view .LVU204
 927 013c 0822     		movs	r2, #8
 928 013e 06F11101 		add	r1, r6, #17
 929 0142 2046     		mov	r0, r4
 930 0144 FFF7FEFF 		bl	uart_write
 931              	.LVL93:
 358:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\n');
 932              		.loc 1 358 3 view .LVU205
 933 0148 0A21     		movs	r1, #10
 934 014a 2046     		mov	r0, r4
 935 014c FFF7FEFF 		bl	uart_writeb
 936              	.LVL94:
ARM GAS  /tmp/ccgekplO.s 			page 25


 359:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\r');
 937              		.loc 1 359 3 view .LVU206
 938 0150 0D21     		movs	r1, #13
 939 0152 2046     		mov	r0, r4
 940 0154 FFF7FEFF 		bl	uart_writeb
 941              	.LVL95:
 360:../../application/src/fobFirmware.c **** 
 361:../../application/src/fobFirmware.c ****   strcpy(msg, "---Feature Info---");
 942              		.loc 1 361 3 view .LVU207
 943 0158 2F46     		mov	r7, r5
 944 015a DFF870C1 		ldr	ip, .L40+40
 945 015e BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 946 0162 0FC7     		stmia	r7!, {r0, r1, r2, r3}
 947 0164 DCF80030 		ldr	r3, [ip]
 948 0168 27F8023B 		strh	r3, [r7], #2	@ movhi
 949 016c 1B0C     		lsrs	r3, r3, #16
 950 016e 3B70     		strb	r3, [r7]
 362:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 951              		.loc 1 362 3 view .LVU208
 952              		.loc 1 362 40 is_stmt 0 view .LVU209
 953 0170 2846     		mov	r0, r5
 954 0172 FFF7FEFF 		bl	strlen
 955              	.LVL96:
 956 0176 0246     		mov	r2, r0
 957              		.loc 1 362 3 view .LVU210
 958 0178 2946     		mov	r1, r5
 959 017a 2046     		mov	r0, r4
 960 017c FFF7FEFF 		bl	uart_write
 961              	.LVL97:
 363:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\n');
 962              		.loc 1 363 3 is_stmt 1 view .LVU211
 963 0180 0A21     		movs	r1, #10
 964 0182 2046     		mov	r0, r4
 965 0184 FFF7FEFF 		bl	uart_writeb
 966              	.LVL98:
 364:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\r');
 967              		.loc 1 364 3 view .LVU212
 968 0188 0D21     		movs	r1, #13
 969 018a 2046     		mov	r0, r4
 970 018c FFF7FEFF 		bl	uart_writeb
 971              	.LVL99:
 365:../../application/src/fobFirmware.c **** 
 366:../../application/src/fobFirmware.c ****   strcpy(msg, "Car ID: ");
 972              		.loc 1 366 3 view .LVU213
 973 0190 2B46     		mov	r3, r5
 974 0192 99E80700 		ldm	r9, {r0, r1, r2}
 975 0196 03C3     		stmia	r3!, {r0, r1}
 976 0198 88F80020 		strb	r2, [r8]
 367:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 977              		.loc 1 367 3 view .LVU214
 978              		.loc 1 367 40 is_stmt 0 view .LVU215
 979 019c 2846     		mov	r0, r5
 980 019e FFF7FEFF 		bl	strlen
 981              	.LVL100:
 982 01a2 0246     		mov	r2, r0
 983              		.loc 1 367 3 view .LVU216
 984 01a4 2946     		mov	r1, r5
ARM GAS  /tmp/ccgekplO.s 			page 26


 985 01a6 2046     		mov	r0, r4
 986 01a8 FFF7FEFF 		bl	uart_write
 987              	.LVL101:
 368:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, flash_data->feature_info.car_id, 8);
 988              		.loc 1 368 3 is_stmt 1 view .LVU217
 989 01ac 0822     		movs	r2, #8
 990 01ae 06F11901 		add	r1, r6, #25
 991 01b2 2046     		mov	r0, r4
 992 01b4 FFF7FEFF 		bl	uart_write
 993              	.LVL102:
 369:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\n');
 994              		.loc 1 369 3 view .LVU218
 995 01b8 0A21     		movs	r1, #10
 996 01ba 2046     		mov	r0, r4
 997 01bc FFF7FEFF 		bl	uart_writeb
 998              	.LVL103:
 370:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\r');
 999              		.loc 1 370 3 view .LVU219
 1000 01c0 0D21     		movs	r1, #13
 1001 01c2 2046     		mov	r0, r4
 1002 01c4 FFF7FEFF 		bl	uart_writeb
 1003              	.LVL104:
 371:../../application/src/fobFirmware.c **** 
 372:../../application/src/fobFirmware.c ****   strcpy(msg, "Num active: ");
 1004              		.loc 1 372 3 view .LVU220
 1005 01c8 3A4B     		ldr	r3, .L40+16
 1006 01ca 2F46     		mov	r7, r5
 1007 01cc 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1008 01ce 07C7     		stmia	r7!, {r0, r1, r2}
 1009 01d0 3B70     		strb	r3, [r7]
 373:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 1010              		.loc 1 373 3 view .LVU221
 1011              		.loc 1 373 40 is_stmt 0 view .LVU222
 1012 01d2 2846     		mov	r0, r5
 1013 01d4 FFF7FEFF 		bl	strlen
 1014              	.LVL105:
 1015 01d8 0246     		mov	r2, r0
 1016              		.loc 1 373 3 view .LVU223
 1017 01da 2946     		mov	r1, r5
 1018 01dc 2046     		mov	r0, r4
 1019 01de FFF7FEFF 		bl	uart_write
 1020              	.LVL106:
 374:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, flash_data->feature_info.num_active);
 1021              		.loc 1 374 3 is_stmt 1 view .LVU224
 1022 01e2 96F82110 		ldrb	r1, [r6, #33]	@ zero_extendqisi2
 1023 01e6 2046     		mov	r0, r4
 1024 01e8 FFF7FEFF 		bl	uart_writeb
 1025              	.LVL107:
 375:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\n');
 1026              		.loc 1 375 3 view .LVU225
 1027 01ec 0A21     		movs	r1, #10
 1028 01ee 2046     		mov	r0, r4
 1029 01f0 FFF7FEFF 		bl	uart_writeb
 1030              	.LVL108:
 376:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\r');
 1031              		.loc 1 376 3 view .LVU226
 1032 01f4 0D21     		movs	r1, #13
ARM GAS  /tmp/ccgekplO.s 			page 27


 1033 01f6 2046     		mov	r0, r4
 1034 01f8 FFF7FEFF 		bl	uart_writeb
 1035              	.LVL109:
 377:../../application/src/fobFirmware.c **** 
 378:../../application/src/fobFirmware.c ****   strcpy(msg, "Feature[0]: ");
 1036              		.loc 1 378 3 view .LVU227
 1037 01fc 2E4B     		ldr	r3, .L40+20
 1038 01fe AC46     		mov	ip, r5
 1039 0200 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1040 0202 ACE80700 		stmia	ip!, {r0, r1, r2}
 1041 0206 3B70     		strb	r3, [r7]
 379:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 1042              		.loc 1 379 3 view .LVU228
 1043              		.loc 1 379 40 is_stmt 0 view .LVU229
 1044 0208 2846     		mov	r0, r5
 1045 020a FFF7FEFF 		bl	strlen
 1046              	.LVL110:
 1047 020e 0246     		mov	r2, r0
 1048              		.loc 1 379 3 view .LVU230
 1049 0210 2946     		mov	r1, r5
 1050 0212 2046     		mov	r0, r4
 1051 0214 FFF7FEFF 		bl	uart_write
 1052              	.LVL111:
 380:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, flash_data->feature_info.features[0]);
 1053              		.loc 1 380 3 is_stmt 1 view .LVU231
 1054 0218 96F82210 		ldrb	r1, [r6, #34]	@ zero_extendqisi2
 1055 021c 2046     		mov	r0, r4
 1056 021e FFF7FEFF 		bl	uart_writeb
 1057              	.LVL112:
 381:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\n');
 1058              		.loc 1 381 3 view .LVU232
 1059 0222 0A21     		movs	r1, #10
 1060 0224 2046     		mov	r0, r4
 1061 0226 FFF7FEFF 		bl	uart_writeb
 1062              	.LVL113:
 382:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\r');
 1063              		.loc 1 382 3 view .LVU233
 1064 022a 0D21     		movs	r1, #13
 1065 022c 2046     		mov	r0, r4
 1066 022e FFF7FEFF 		bl	uart_writeb
 1067              	.LVL114:
 383:../../application/src/fobFirmware.c **** 
 384:../../application/src/fobFirmware.c ****   strcpy(msg, "Feature[1]: ");
 1068              		.loc 1 384 3 view .LVU234
 1069 0232 224B     		ldr	r3, .L40+24
 1070 0234 AC46     		mov	ip, r5
 1071 0236 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1072 0238 ACE80700 		stmia	ip!, {r0, r1, r2}
 1073 023c 3B70     		strb	r3, [r7]
 385:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 1074              		.loc 1 385 3 view .LVU235
 1075              		.loc 1 385 40 is_stmt 0 view .LVU236
 1076 023e 2846     		mov	r0, r5
 1077 0240 FFF7FEFF 		bl	strlen
 1078              	.LVL115:
 1079 0244 0246     		mov	r2, r0
 1080              		.loc 1 385 3 view .LVU237
ARM GAS  /tmp/ccgekplO.s 			page 28


 1081 0246 2946     		mov	r1, r5
 1082 0248 2046     		mov	r0, r4
 1083 024a FFF7FEFF 		bl	uart_write
 1084              	.LVL116:
 386:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, flash_data->feature_info.features[1]);
 1085              		.loc 1 386 3 is_stmt 1 view .LVU238
 1086 024e 96F82310 		ldrb	r1, [r6, #35]	@ zero_extendqisi2
 1087 0252 2046     		mov	r0, r4
 1088 0254 FFF7FEFF 		bl	uart_writeb
 1089              	.LVL117:
 387:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\n');
 1090              		.loc 1 387 3 view .LVU239
 1091 0258 0A21     		movs	r1, #10
 1092 025a 2046     		mov	r0, r4
 1093 025c FFF7FEFF 		bl	uart_writeb
 1094              	.LVL118:
 388:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\r');
 1095              		.loc 1 388 3 view .LVU240
 1096 0260 0D21     		movs	r1, #13
 1097 0262 2046     		mov	r0, r4
 1098 0264 FFF7FEFF 		bl	uart_writeb
 1099              	.LVL119:
 389:../../application/src/fobFirmware.c **** 
 390:../../application/src/fobFirmware.c ****   strcpy(msg, "Feature[2]: ");
 1100              		.loc 1 390 3 view .LVU241
 1101 0268 154B     		ldr	r3, .L40+28
 1102 026a AC46     		mov	ip, r5
 1103 026c 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1104 026e ACE80700 		stmia	ip!, {r0, r1, r2}
 1105 0272 3B70     		strb	r3, [r7]
 391:../../application/src/fobFirmware.c ****   uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 1106              		.loc 1 391 3 view .LVU242
 1107              		.loc 1 391 40 is_stmt 0 view .LVU243
 1108 0274 2846     		mov	r0, r5
 1109 0276 FFF7FEFF 		bl	strlen
 1110              	.LVL120:
 1111 027a 0246     		mov	r2, r0
 1112              		.loc 1 391 3 view .LVU244
 1113 027c 2946     		mov	r1, r5
 1114 027e 2046     		mov	r0, r4
 1115 0280 FFF7FEFF 		bl	uart_write
 1116              	.LVL121:
 392:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, flash_data->feature_info.features[2]);
 1117              		.loc 1 392 3 is_stmt 1 view .LVU245
 1118 0284 96F82410 		ldrb	r1, [r6, #36]	@ zero_extendqisi2
 1119 0288 2046     		mov	r0, r4
 1120 028a FFF7FEFF 		bl	uart_writeb
 1121              	.LVL122:
 393:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\n');
 1122              		.loc 1 393 3 view .LVU246
 1123 028e 0A21     		movs	r1, #10
 1124 0290 2046     		mov	r0, r4
 1125 0292 FFF7FEFF 		bl	uart_writeb
 1126              	.LVL123:
 394:../../application/src/fobFirmware.c ****   uart_writeb(HOST_UART, '\r');
 1127              		.loc 1 394 3 view .LVU247
 1128 0296 0D21     		movs	r1, #13
ARM GAS  /tmp/ccgekplO.s 			page 29


 1129 0298 2046     		mov	r0, r4
 1130 029a FFF7FEFF 		bl	uart_writeb
 1131              	.LVL124:
 395:../../application/src/fobFirmware.c **** }...
 1132              		.loc 1 395 1 is_stmt 0 view .LVU248
 1133 029e 11B0     		add	sp, sp, #68
 1134              	.LCFI18:
 1135              		.cfi_def_cfa_offset 28
 1136              		@ sp needed
 1137 02a0 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1138              	.LVL125:
 1139              	.L41:
 1140              		.loc 1 395 1 view .LVU249
 1141              		.align	2
 1142              	.L40:
 1143 02a4 14000000 		.word	.LC10
 1144 02a8 20000000 		.word	.LC11
 1145 02ac 30000000 		.word	.LC12
 1146 02b0 3C000000 		.word	.LC13
 1147 02b4 0C000000 		.word	.LC5
 1148 02b8 1C000000 		.word	.LC6
 1149 02bc 2C000000 		.word	.LC7
 1150 02c0 3C000000 		.word	.LC8
 1151 02c4 00000000 		.word	.LC9
 1152 02c8 00000000 		.word	.LC4
 1153 02cc 44000000 		.word	.LC14
 1154              		.cfi_endproc
 1155              	.LFE6:
 1157              		.section	.rodata.main.str1.4,"aMS",%progbits,1
 1158              		.align	2
 1159              	.LC15:
 1160 0000 666F625F 		.ascii	"fob_state\000"
 1160      73746174 
 1160      6500
 1161 000a 0000     		.align	2
 1162              	.LC16:
 1163 000c 756E6C6F 		.ascii	"unlock\000"
 1163      636B00
 1164 0013 00       		.align	2
 1165              	.LC17:
 1166 0014 31323334 		.ascii	"123456\000"
 1166      353600
 1167 001b 00       		.align	2
 1168              	.LC18:
 1169 001c 31393838 		.ascii	"1988\000"
 1169      00
 1170 0021 000000   		.align	2
 1171              	.LC19:
 1172 0024 656E6162 		.ascii	"enable\000"
 1172      6C6500
 1173 002b 00       		.align	2
 1174              	.LC20:
 1175 002c 70616972 		.ascii	"pair\000"
 1175      00
 1176 0031 000000   		.align	2
 1177              	.LC21:
 1178 0034 42757474 		.ascii	"Button press detected\012\000"
ARM GAS  /tmp/ccgekplO.s 			page 30


 1178      6F6E2070 
 1178      72657373 
 1178      20646574 
 1178      65637465 
 1179              		.section	.text.main,"ax",%progbits
 1180              		.align	1
 1181              		.global	main
 1182              		.syntax unified
 1183              		.thumb
 1184              		.thumb_func
 1185              		.fpu fpv4-sp-d16
 1187              	main:
 1188              	.LVL126:
 1189              	.LFB0:
  56:../../application/src/fobFirmware.c **** {
 1190              		.loc 1 56 1 is_stmt 1 view -0
 1191              		.cfi_startproc
 1192              		@ args = 0, pretend = 0, frame = 80
 1193              		@ frame_needed = 0, uses_anonymous_args = 0
  56:../../application/src/fobFirmware.c **** {
 1194              		.loc 1 56 1 is_stmt 0 view .LVU251
 1195 0000 30B5     		push	{r4, r5, lr}
 1196              	.LCFI19:
 1197              		.cfi_def_cfa_offset 12
 1198              		.cfi_offset 4, -12
 1199              		.cfi_offset 5, -8
 1200              		.cfi_offset 14, -4
 1201 0002 95B0     		sub	sp, sp, #84
 1202              	.LCFI20:
 1203              		.cfi_def_cfa_offset 96
  57:../../application/src/fobFirmware.c ****   initHardware_fob(argc, argv);
 1204              		.loc 1 57 3 is_stmt 1 view .LVU252
 1205 0004 FFF7FEFF 		bl	initHardware_fob
 1206              	.LVL127:
  59:../../application/src/fobFirmware.c ****   FLASH_DATA fob_state_ram;
 1207              		.loc 1 59 3 view .LVU253
  61:../../application/src/fobFirmware.c ****   readVar((uint8_t*)(&fob_state_ram), "fob_state");
 1208              		.loc 1 61 3 view .LVU254
 1209 0008 4C49     		ldr	r1, .L58
 1210 000a 0AA8     		add	r0, sp, #40
 1211 000c FFF7FEFF 		bl	readVar
 1212              	.LVL128:
  65:../../application/src/fobFirmware.c ****   if (fob_state_ram.paired == FLASH_UNPAIRED)
 1213              		.loc 1 65 3 view .LVU255
  65:../../application/src/fobFirmware.c ****   if (fob_state_ram.paired == FLASH_UNPAIRED)
 1214              		.loc 1 65 20 is_stmt 0 view .LVU256
 1215 0010 9DF82830 		ldrb	r3, [sp, #40]	@ zero_extendqisi2
  65:../../application/src/fobFirmware.c ****   if (fob_state_ram.paired == FLASH_UNPAIRED)
 1216              		.loc 1 65 6 view .LVU257
 1217 0014 FF2B     		cmp	r3, #255
 1218 0016 2FD0     		beq	.L53
 1219              	.L43:
  88:../../application/src/fobFirmware.c ****   if (fob_state_ram.feature_info.num_active == 0xFF)
 1220              		.loc 1 88 3 is_stmt 1 view .LVU258
  88:../../application/src/fobFirmware.c ****   if (fob_state_ram.feature_info.num_active == 0xFF)
 1221              		.loc 1 88 33 is_stmt 0 view .LVU259
 1222 0018 9DF84930 		ldrb	r3, [sp, #73]	@ zero_extendqisi2
ARM GAS  /tmp/ccgekplO.s 			page 31


  88:../../application/src/fobFirmware.c ****   if (fob_state_ram.feature_info.num_active == 0xFF)
 1223              		.loc 1 88 6 view .LVU260
 1224 001c FF2B     		cmp	r3, #255
 1225 001e 54D0     		beq	.L54
 1226              	.L44:
  56:../../application/src/fobFirmware.c **** {
 1227              		.loc 1 56 1 view .LVU261
 1228 0020 0025     		movs	r5, #0
 1229              	.L45:
 1230              	.LVL129:
 100:../../application/src/fobFirmware.c ****   while (true)
 1231              		.loc 1 100 3 is_stmt 1 view .LVU262
 104:../../application/src/fobFirmware.c ****     if (uart_avail(HOST_UART))
 1232              		.loc 1 104 5 view .LVU263
 104:../../application/src/fobFirmware.c ****     if (uart_avail(HOST_UART))
 1233              		.loc 1 104 9 is_stmt 0 view .LVU264
 1234 0022 0020     		movs	r0, #0
 1235 0024 FFF7FEFF 		bl	uart_avail
 1236              	.LVL130:
 104:../../application/src/fobFirmware.c ****     if (uart_avail(HOST_UART))
 1237              		.loc 1 104 8 view .LVU265
 1238 0028 0028     		cmp	r0, #0
 1239 002a 58D1     		bne	.L55
 1240              	.LVL131:
 1241              	.L46:
 130:../../application/src/fobFirmware.c ****     if(buttonPressed())
 1242              		.loc 1 130 5 is_stmt 1 view .LVU266
 130:../../application/src/fobFirmware.c ****     if(buttonPressed())
 1243              		.loc 1 130 8 is_stmt 0 view .LVU267
 1244 002c FFF7FEFF 		bl	buttonPressed
 1245              	.LVL132:
 130:../../application/src/fobFirmware.c ****     if(buttonPressed())
 1246              		.loc 1 130 7 view .LVU268
 1247 0030 0028     		cmp	r0, #0
 1248 0032 F6D0     		beq	.L45
 1249              	.LBB7:
 132:../../application/src/fobFirmware.c ****       char msg[] = "Button press detected\n";
 1250              		.loc 1 132 7 is_stmt 1 view .LVU269
 132:../../application/src/fobFirmware.c ****       char msg[] = "Button press detected\n";
 1251              		.loc 1 132 12 is_stmt 0 view .LVU270
 1252 0034 0DF1040C 		add	ip, sp, #4
 1253 0038 414C     		ldr	r4, .L58+4
 1254 003a 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 1255 003c ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 1256 0040 94E80300 		ldm	r4, {r0, r1}
 1257 0044 4CF8040B 		str	r0, [ip], #4
 1258 0048 2CF8021B 		strh	r1, [ip], #2	@ movhi
 1259 004c 090C     		lsrs	r1, r1, #16
 1260 004e 8CF80010 		strb	r1, [ip]
 133:../../application/src/fobFirmware.c ****       uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 1261              		.loc 1 133 7 is_stmt 1 view .LVU271
 133:../../application/src/fobFirmware.c ****       uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 1262              		.loc 1 133 44 is_stmt 0 view .LVU272
 1263 0052 01A8     		add	r0, sp, #4
 1264 0054 FFF7FEFF 		bl	strlen
 1265              	.LVL133:
 1266 0058 0246     		mov	r2, r0
ARM GAS  /tmp/ccgekplO.s 			page 32


 133:../../application/src/fobFirmware.c ****       uart_write(HOST_UART, (uint8_t*)msg, strlen(msg));
 1267              		.loc 1 133 7 view .LVU273
 1268 005a 01A9     		add	r1, sp, #4
 1269 005c 0020     		movs	r0, #0
 1270 005e FFF7FEFF 		bl	uart_write
 1271              	.LVL134:
 134:../../application/src/fobFirmware.c ****       unlockCar(&fob_state_ram);
 1272              		.loc 1 134 7 is_stmt 1 view .LVU274
 1273 0062 0AA8     		add	r0, sp, #40
 1274 0064 FFF7FEFF 		bl	unlockCar
 1275              	.LVL135:
 135:../../application/src/fobFirmware.c ****       if (receiveAck())
 1276              		.loc 1 135 7 view .LVU275
 135:../../application/src/fobFirmware.c ****       if (receiveAck())
 1277              		.loc 1 135 11 is_stmt 0 view .LVU276
 1278 0068 FFF7FEFF 		bl	receiveAck
 1279              	.LVL136:
 135:../../application/src/fobFirmware.c ****       if (receiveAck())
 1280              		.loc 1 135 10 view .LVU277
 1281 006c 0028     		cmp	r0, #0
 1282 006e D8D0     		beq	.L45
 137:../../application/src/fobFirmware.c ****         startCar(&fob_state_ram);
 1283              		.loc 1 137 9 is_stmt 1 view .LVU278
 1284 0070 0AA8     		add	r0, sp, #40
 1285 0072 FFF7FEFF 		bl	startCar
 1286              	.LVL137:
 1287 0076 D4E7     		b	.L45
 1288              	.LVL138:
 1289              	.L53:
 137:../../application/src/fobFirmware.c ****         startCar(&fob_state_ram);
 1290              		.loc 1 137 9 is_stmt 0 view .LVU279
 1291              	.LBE7:
  67:../../application/src/fobFirmware.c ****     strcpy((char *)(fob_state_ram.pair_info.password), PASSWORD);
 1292              		.loc 1 67 5 is_stmt 1 view .LVU280
 1293 0078 324B     		ldr	r3, .L58+8
 1294 007a 1868     		ldr	r0, [r3]
 1295 007c CDF83100 		str	r0, [sp, #49]	@ unaligned
 1296 0080 9A88     		ldrh	r2, [r3, #4]	@ unaligned
 1297 0082 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 1298 0084 ADF83520 		strh	r2, [sp, #53]	@ unaligned
 1299 0088 8DF83730 		strb	r3, [sp, #55]
  68:../../application/src/fobFirmware.c ****     strcpy((char *)(fob_state_ram.pair_info.pin), PAIR_PIN);
 1300              		.loc 1 68 5 view .LVU281
 1301 008c 2E4B     		ldr	r3, .L58+12
 1302 008e 1868     		ldr	r0, [r3]
 1303 0090 CDF83900 		str	r0, [sp, #57]	@ unaligned
 1304 0094 9A88     		ldrh	r2, [r3, #4]	@ unaligned
 1305 0096 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 1306 0098 ADF83D20 		strh	r2, [sp, #61]	@ unaligned
 1307 009c 8DF83F30 		strb	r3, [sp, #63]
  69:../../application/src/fobFirmware.c ****     strcpy((char *)(fob_state_ram.pair_info.car_id), CAR_ID);
 1308              		.loc 1 69 5 view .LVU282
 1309 00a0 2A4B     		ldr	r3, .L58+16
 1310 00a2 1868     		ldr	r0, [r3]
 1311 00a4 CDF82900 		str	r0, [sp, #41]	@ unaligned
 1312 00a8 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1313 00aa 8DF82D30 		strb	r3, [sp, #45]
ARM GAS  /tmp/ccgekplO.s 			page 33


  70:../../application/src/fobFirmware.c ****     strcpy((char *)(fob_state_ram.feature_info.car_id), CAR_ID);
 1314              		.loc 1 70 5 view .LVU283
 1315 00ae CDF84100 		str	r0, [sp, #65]	@ unaligned
 1316 00b2 8DF84530 		strb	r3, [sp, #69]
  71:../../application/src/fobFirmware.c ****     fob_state_ram.paired = FLASH_PAIRED;
 1317              		.loc 1 71 5 view .LVU284
  71:../../application/src/fobFirmware.c ****     fob_state_ram.paired = FLASH_PAIRED;
 1318              		.loc 1 71 26 is_stmt 0 view .LVU285
 1319 00b6 0023     		movs	r3, #0
 1320 00b8 8DF82830 		strb	r3, [sp, #40]
  73:../../application/src/fobFirmware.c ****     printFobState(&fob_state_ram);
 1321              		.loc 1 73 5 is_stmt 1 view .LVU286
 1322 00bc 0AA8     		add	r0, sp, #40
 1323 00be FFF7FEFF 		bl	printFobState
 1324              	.LVL139:
  74:../../application/src/fobFirmware.c ****     saveFobState(&fob_state_ram);
 1325              		.loc 1 74 5 view .LVU287
 1326 00c2 0AA8     		add	r0, sp, #40
 1327 00c4 FFF7FEFF 		bl	saveFobState
 1328              	.LVL140:
 1329 00c8 A6E7     		b	.L43
 1330              	.L54:
  90:../../application/src/fobFirmware.c ****     fob_state_ram.feature_info.num_active = 0;
 1331              		.loc 1 90 5 view .LVU288
  90:../../application/src/fobFirmware.c ****     fob_state_ram.feature_info.num_active = 0;
 1332              		.loc 1 90 43 is_stmt 0 view .LVU289
 1333 00ca 0023     		movs	r3, #0
 1334 00cc 8DF84930 		strb	r3, [sp, #73]
  91:../../application/src/fobFirmware.c ****     printFobState(&fob_state_ram);
 1335              		.loc 1 91 5 is_stmt 1 view .LVU290
 1336 00d0 0AA8     		add	r0, sp, #40
 1337 00d2 FFF7FEFF 		bl	printFobState
 1338              	.LVL141:
  92:../../application/src/fobFirmware.c ****     saveFobState(&fob_state_ram);
 1339              		.loc 1 92 5 view .LVU291
 1340 00d6 0AA8     		add	r0, sp, #40
 1341 00d8 FFF7FEFF 		bl	saveFobState
 1342              	.LVL142:
 1343 00dc A0E7     		b	.L44
 1344              	.LVL143:
 1345              	.L55:
 1346              	.LBB8:
 106:../../application/src/fobFirmware.c ****       uint8_t uart_char = (uint8_t)uart_readb(HOST_UART);
 1347              		.loc 1 106 7 view .LVU292
 106:../../application/src/fobFirmware.c ****       uint8_t uart_char = (uint8_t)uart_readb(HOST_UART);
 1348              		.loc 1 106 36 is_stmt 0 view .LVU293
 1349 00de 0020     		movs	r0, #0
 1350 00e0 FFF7FEFF 		bl	uart_readb
 1351              	.LVL144:
 106:../../application/src/fobFirmware.c ****       uint8_t uart_char = (uint8_t)uart_readb(HOST_UART);
 1352              		.loc 1 106 15 view .LVU294
 1353 00e4 C0B2     		uxtb	r0, r0
 1354              	.LVL145:
 108:../../application/src/fobFirmware.c ****       if ((uart_char != '\r') && (uart_char != '\n') && (uart_char != '\0') &&
 1355              		.loc 1 108 7 is_stmt 1 view .LVU295
 108:../../application/src/fobFirmware.c ****       if ((uart_char != '\r') && (uart_char != '\n') && (uart_char != '\0') &&
 1356              		.loc 1 108 10 is_stmt 0 view .LVU296
ARM GAS  /tmp/ccgekplO.s 			page 34


 1357 00e6 0D28     		cmp	r0, #13
 1358 00e8 0AD0     		beq	.L47
 108:../../application/src/fobFirmware.c ****       if ((uart_char != '\r') && (uart_char != '\n') && (uart_char != '\0') &&
 1359              		.loc 1 108 31 discriminator 1 view .LVU297
 1360 00ea 0A28     		cmp	r0, #10
 1361 00ec 08D0     		beq	.L47
 108:../../application/src/fobFirmware.c ****       if ((uart_char != '\r') && (uart_char != '\n') && (uart_char != '\0') &&
 1362              		.loc 1 108 54 discriminator 2 view .LVU298
 1363 00ee 38B1     		cbz	r0, .L47
 111:../../application/src/fobFirmware.c ****         uart_buffer[uart_buffer_index] = uart_char;
 1364              		.loc 1 111 9 is_stmt 1 view .LVU299
 111:../../application/src/fobFirmware.c ****         uart_buffer[uart_buffer_index] = uart_char;
 1365              		.loc 1 111 40 is_stmt 0 view .LVU300
 1366 00f0 05F15003 		add	r3, r5, #80
 1367 00f4 6B44     		add	r3, sp, r3
 1368 00f6 03F8340C 		strb	r0, [r3, #-52]
 112:../../application/src/fobFirmware.c ****         uart_buffer_index++;
 1369              		.loc 1 112 9 is_stmt 1 view .LVU301
 112:../../application/src/fobFirmware.c ****         uart_buffer_index++;
 1370              		.loc 1 112 26 is_stmt 0 view .LVU302
 1371 00fa 0135     		adds	r5, r5, #1
 1372              	.LVL146:
 112:../../application/src/fobFirmware.c ****         uart_buffer_index++;
 1373              		.loc 1 112 26 view .LVU303
 1374 00fc EDB2     		uxtb	r5, r5
 1375              	.LVL147:
 112:../../application/src/fobFirmware.c ****         uart_buffer_index++;
 1376              		.loc 1 112 26 view .LVU304
 1377 00fe 95E7     		b	.L46
 1378              	.L47:
 116:../../application/src/fobFirmware.c ****         uart_buffer[uart_buffer_index] = 0x00;
 1379              		.loc 1 116 9 is_stmt 1 view .LVU305
 116:../../application/src/fobFirmware.c ****         uart_buffer[uart_buffer_index] = 0x00;
 1380              		.loc 1 116 40 is_stmt 0 view .LVU306
 1381 0100 05F15003 		add	r3, r5, #80
 1382 0104 0DEB0305 		add	r5, sp, r3
 1383              	.LVL148:
 116:../../application/src/fobFirmware.c ****         uart_buffer[uart_buffer_index] = 0x00;
 1384              		.loc 1 116 40 view .LVU307
 1385 0108 0023     		movs	r3, #0
 1386 010a 05F8343C 		strb	r3, [r5, #-52]
 117:../../application/src/fobFirmware.c ****         uart_buffer_index = 0;
 1387              		.loc 1 117 9 is_stmt 1 view .LVU308
 1388              	.LVL149:
 119:../../application/src/fobFirmware.c ****         if (!(strcmp((char *)uart_buffer, "enable")))
 1389              		.loc 1 119 9 view .LVU309
 119:../../application/src/fobFirmware.c ****         if (!(strcmp((char *)uart_buffer, "enable")))
 1390              		.loc 1 119 15 is_stmt 0 view .LVU310
 1391 010e 1049     		ldr	r1, .L58+20
 1392 0110 07A8     		add	r0, sp, #28
 1393              	.LVL150:
 119:../../application/src/fobFirmware.c ****         if (!(strcmp((char *)uart_buffer, "enable")))
 1394              		.loc 1 119 15 view .LVU311
 1395 0112 FFF7FEFF 		bl	strcmp
 1396              	.LVL151:
 119:../../application/src/fobFirmware.c ****         if (!(strcmp((char *)uart_buffer, "enable")))
 1397              		.loc 1 119 12 view .LVU312
ARM GAS  /tmp/ccgekplO.s 			page 35


 1398 0116 30B1     		cbz	r0, .L56
 123:../../application/src/fobFirmware.c ****         else if (!(strcmp((char *)uart_buffer, "pair")))
 1399              		.loc 1 123 14 is_stmt 1 view .LVU313
 123:../../application/src/fobFirmware.c ****         else if (!(strcmp((char *)uart_buffer, "pair")))
 1400              		.loc 1 123 20 is_stmt 0 view .LVU314
 1401 0118 0E49     		ldr	r1, .L58+24
 1402 011a 07A8     		add	r0, sp, #28
 1403 011c FFF7FEFF 		bl	strcmp
 1404              	.LVL152:
 123:../../application/src/fobFirmware.c ****         else if (!(strcmp((char *)uart_buffer, "pair")))
 1405              		.loc 1 123 17 view .LVU315
 1406 0120 30B1     		cbz	r0, .L57
 117:../../application/src/fobFirmware.c ****         uart_buffer_index = 0;
 1407              		.loc 1 117 27 view .LVU316
 1408 0122 0025     		movs	r5, #0
 1409 0124 82E7     		b	.L46
 1410              	.L56:
 121:../../application/src/fobFirmware.c ****           enableFeature(&fob_state_ram);
 1411              		.loc 1 121 11 is_stmt 1 view .LVU317
 1412 0126 0AA8     		add	r0, sp, #40
 1413 0128 FFF7FEFF 		bl	enableFeature
 1414              	.LVL153:
 117:../../application/src/fobFirmware.c ****         uart_buffer_index = 0;
 1415              		.loc 1 117 27 is_stmt 0 view .LVU318
 1416 012c 0025     		movs	r5, #0
 1417 012e 7DE7     		b	.L46
 1418              	.L57:
 125:../../application/src/fobFirmware.c ****           pairFob(&fob_state_ram);
 1419              		.loc 1 125 11 is_stmt 1 view .LVU319
 1420 0130 0AA8     		add	r0, sp, #40
 1421 0132 FFF7FEFF 		bl	pairFob
 1422              	.LVL154:
 117:../../application/src/fobFirmware.c ****         uart_buffer_index = 0;
 1423              		.loc 1 117 27 is_stmt 0 view .LVU320
 1424 0136 0025     		movs	r5, #0
 1425 0138 78E7     		b	.L46
 1426              	.L59:
 1427 013a 00BF     		.align	2
 1428              	.L58:
 1429 013c 00000000 		.word	.LC15
 1430 0140 34000000 		.word	.LC21
 1431 0144 0C000000 		.word	.LC16
 1432 0148 14000000 		.word	.LC17
 1433 014c 1C000000 		.word	.LC18
 1434 0150 24000000 		.word	.LC19
 1435 0154 2C000000 		.word	.LC20
 1436              	.LBE8:
 1437              		.cfi_endproc
 1438              	.LFE0:
 1440              		.text
 1441              	.Letext0:
 1442              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 1443              		.file 3 "../../application/inc/messages.h"
 1444              		.file 4 "../../application/inc/dataFormats.h"
 1445              		.file 5 "/usr/include/newlib/string.h"
 1446              		.file 6 "../../application/inc/uart.h"
 1447              		.file 7 "../../application/inc/platform.h"
ARM GAS  /tmp/ccgekplO.s 			page 36


 1448              		.file 8 "<built-in>"
ARM GAS  /tmp/ccgekplO.s 			page 37


DEFINED SYMBOLS
                            *ABS*:0000000000000000 fobFirmware.c
     /tmp/ccgekplO.s:18     .rodata.pairFob.str1.4:0000000000000000 $d
     /tmp/ccgekplO.s:25     .text.pairFob:0000000000000000 $t
     /tmp/ccgekplO.s:33     .text.pairFob:0000000000000000 pairFob
     /tmp/ccgekplO.s:157    .text.pairFob:0000000000000074 $d
     /tmp/ccgekplO.s:163    .rodata.enableFeature.str1.4:0000000000000000 $d
     /tmp/ccgekplO.s:167    .text.enableFeature:0000000000000000 $t
     /tmp/ccgekplO.s:174    .text.enableFeature:0000000000000000 enableFeature
     /tmp/ccgekplO.s:286    .text.enableFeature:0000000000000064 $d
     /tmp/ccgekplO.s:291    .rodata.unlockCar.str1.4:0000000000000000 $d
     /tmp/ccgekplO.s:295    .text.unlockCar:0000000000000000 $t
     /tmp/ccgekplO.s:302    .text.unlockCar:0000000000000000 unlockCar
     /tmp/ccgekplO.s:385    .text.unlockCar:0000000000000058 $d
     /tmp/ccgekplO.s:390    .rodata.startCar.str1.4:0000000000000000 $d
     /tmp/ccgekplO.s:406    .text.startCar:0000000000000000 $t
     /tmp/ccgekplO.s:413    .text.startCar:0000000000000000 startCar
     /tmp/ccgekplO.s:644    .text.startCar:0000000000000150 $d
     /tmp/ccgekplO.s:653    .text.receiveAck:0000000000000000 $t
     /tmp/ccgekplO.s:660    .text.receiveAck:0000000000000000 receiveAck
     /tmp/ccgekplO.s:696    .rodata.printFobState.str1.4:0000000000000000 $d
     /tmp/ccgekplO.s:715    .text.printFobState:0000000000000000 $t
     /tmp/ccgekplO.s:722    .text.printFobState:0000000000000000 printFobState
     /tmp/ccgekplO.s:1143   .text.printFobState:00000000000002a4 $d
     /tmp/ccgekplO.s:1158   .rodata.main.str1.4:0000000000000000 $d
     /tmp/ccgekplO.s:1180   .text.main:0000000000000000 $t
     /tmp/ccgekplO.s:1187   .text.main:0000000000000000 main
     /tmp/ccgekplO.s:1429   .text.main:000000000000013c $d

UNDEFINED SYMBOLS
uart_write
uart_readline
strcmp
send_board_message
receive_board_message_by_type
strcpy
saveFobState
strlen
uart_writeb
memset
initHardware_fob
readVar
uart_avail
buttonPressed
uart_readb
