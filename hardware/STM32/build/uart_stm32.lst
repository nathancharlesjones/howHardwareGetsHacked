ARM GAS  /tmp/cc0u9k5v.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"uart_stm32.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.uart_init,"ax",%progbits
  18              		.align	1
  19              		.global	uart_init
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	uart_init:
  27              	.LFB134:
  28              		.file 1 "Core/Src/uart_stm32.c"
   1:Core/Src/uart_stm32.c **** /**
   2:Core/Src/uart_stm32.c ****  * @file uart.c
   3:Core/Src/uart_stm32.c ****  * @author Kyle Scaplen
   4:Core/Src/uart_stm32.c ****  * @brief Firmware UART interface implementation.
   5:Core/Src/uart_stm32.c ****  * @date 2023
   6:Core/Src/uart_stm32.c ****  *
   7:Core/Src/uart_stm32.c ****  * This source file is part of an example system for MITRE's 2023 Embedded
   8:Core/Src/uart_stm32.c ****  * System CTF (eCTF). This code is being provided only for educational purposes
   9:Core/Src/uart_stm32.c ****  * for the 2023 MITRE eCTF competition, and may not meet MITRE standards for
  10:Core/Src/uart_stm32.c ****  * quality. Use this code at your own risk!
  11:Core/Src/uart_stm32.c ****  *
  12:Core/Src/uart_stm32.c ****  * @copyright Copyright (c) 2023 The MITRE Corporation
  13:Core/Src/uart_stm32.c ****  */
  14:Core/Src/uart_stm32.c **** 
  15:Core/Src/uart_stm32.c **** #include <stdbool.h>
  16:Core/Src/uart_stm32.c **** #include <stdint.h>
  17:Core/Src/uart_stm32.c **** #include <string.h>
  18:Core/Src/uart_stm32.c **** 
  19:Core/Src/uart_stm32.c **** #include "main.h"
  20:Core/Src/uart_stm32.c **** #include "uart.h"
  21:Core/Src/uart_stm32.c **** #include "uart_stm32.h"
  22:Core/Src/uart_stm32.c **** 
  23:Core/Src/uart_stm32.c **** /**
  24:Core/Src/uart_stm32.c ****  * @brief Initialize the UART interfaces.
  25:Core/Src/uart_stm32.c ****  *
  26:Core/Src/uart_stm32.c ****  * UART 0 is used to communicate with the host computer.
  27:Core/Src/uart_stm32.c ****  */
  28:Core/Src/uart_stm32.c **** void uart_init(void) {}
  29              		.loc 1 28 22 view -0
  30              		.cfi_startproc
ARM GAS  /tmp/cc0u9k5v.s 			page 2


  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              		.loc 1 28 23 view .LVU1
  35 0000 7047     		bx	lr
  36              		.cfi_endproc
  37              	.LFE134:
  39              		.section	.text.uart_avail,"ax",%progbits
  40              		.align	1
  41              		.global	uart_avail
  42              		.syntax unified
  43              		.thumb
  44              		.thumb_func
  45              		.fpu fpv4-sp-d16
  47              	uart_avail:
  48              	.LVL0:
  49              	.LFB135:
  29:Core/Src/uart_stm32.c **** 
  30:Core/Src/uart_stm32.c **** /**
  31:Core/Src/uart_stm32.c ****  * @brief Check if there are characters available on a UART interface.
  32:Core/Src/uart_stm32.c ****  *
  33:Core/Src/uart_stm32.c ****  * @param uart is the base address of the UART port.
  34:Core/Src/uart_stm32.c ****  * @return true if there is data available.
  35:Core/Src/uart_stm32.c ****  * @return false if there is no data available.
  36:Core/Src/uart_stm32.c ****  */
  37:Core/Src/uart_stm32.c **** bool uart_avail(hw_uart_t uart) { return (__HAL_UART_GET_FLAG(uart_base(uart), UART_FLAG_RXNE) != R
  50              		.loc 1 37 33 view -0
  51              		.cfi_startproc
  52              		@ args = 0, pretend = 0, frame = 0
  53              		@ frame_needed = 0, uses_anonymous_args = 0
  54              		.loc 1 37 33 is_stmt 0 view .LVU3
  55 0000 08B5     		push	{r3, lr}
  56              	.LCFI0:
  57              		.cfi_def_cfa_offset 8
  58              		.cfi_offset 3, -8
  59              		.cfi_offset 14, -4
  60              		.loc 1 37 35 is_stmt 1 view .LVU4
  61              		.loc 1 37 43 is_stmt 0 view .LVU5
  62 0002 FFF7FEFF 		bl	uart_base
  63              	.LVL1:
  64              		.loc 1 37 43 view .LVU6
  65 0006 0368     		ldr	r3, [r0]
  66 0008 1868     		ldr	r0, [r3]
  67              		.loc 1 37 107 view .LVU7
  68 000a C0F34010 		ubfx	r0, r0, #5, #1
  69 000e 08BD     		pop	{r3, pc}
  70              		.cfi_endproc
  71              	.LFE135:
  73              		.section	.text.uart_readb,"ax",%progbits
  74              		.align	1
  75              		.global	uart_readb
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
  79              		.fpu fpv4-sp-d16
  81              	uart_readb:
  82              	.LVL2:
ARM GAS  /tmp/cc0u9k5v.s 			page 3


  83              	.LFB136:
  38:Core/Src/uart_stm32.c **** 
  39:Core/Src/uart_stm32.c **** /**
  40:Core/Src/uart_stm32.c ****  * @brief Read a byte from a UART interface.
  41:Core/Src/uart_stm32.c ****  *
  42:Core/Src/uart_stm32.c ****  * @param uart is the base address of the UART port to read from.
  43:Core/Src/uart_stm32.c ****  * @return the character read from the interface.
  44:Core/Src/uart_stm32.c ****  */
  45:Core/Src/uart_stm32.c **** int32_t uart_readb(hw_uart_t uart)
  46:Core/Src/uart_stm32.c **** {
  84              		.loc 1 46 1 is_stmt 1 view -0
  85              		.cfi_startproc
  86              		@ args = 0, pretend = 0, frame = 8
  87              		@ frame_needed = 0, uses_anonymous_args = 0
  88              		.loc 1 46 1 is_stmt 0 view .LVU9
  89 0000 00B5     		push	{lr}
  90              	.LCFI1:
  91              		.cfi_def_cfa_offset 4
  92              		.cfi_offset 14, -4
  93 0002 83B0     		sub	sp, sp, #12
  94              	.LCFI2:
  95              		.cfi_def_cfa_offset 16
  47:Core/Src/uart_stm32.c ****   int32_t c;
  96              		.loc 1 47 3 is_stmt 1 view .LVU10
  48:Core/Src/uart_stm32.c ****   HAL_UART_Receive(uart_base(uart), (uint8_t*)(&c), 1, HAL_MAX_DELAY);
  97              		.loc 1 48 3 view .LVU11
  98 0004 FFF7FEFF 		bl	uart_base
  99              	.LVL3:
 100              		.loc 1 48 3 is_stmt 0 view .LVU12
 101 0008 4FF0FF33 		mov	r3, #-1
 102 000c 0122     		movs	r2, #1
 103 000e 01A9     		add	r1, sp, #4
 104 0010 FFF7FEFF 		bl	HAL_UART_Receive
 105              	.LVL4:
  49:Core/Src/uart_stm32.c ****   //return UARTCharGet(uart_base(uart));
  50:Core/Src/uart_stm32.c ****   return c;
 106              		.loc 1 50 3 is_stmt 1 view .LVU13
  51:Core/Src/uart_stm32.c **** }
 107              		.loc 1 51 1 is_stmt 0 view .LVU14
 108 0014 0198     		ldr	r0, [sp, #4]
 109 0016 03B0     		add	sp, sp, #12
 110              	.LCFI3:
 111              		.cfi_def_cfa_offset 4
 112              		@ sp needed
 113 0018 5DF804FB 		ldr	pc, [sp], #4
 114              		.cfi_endproc
 115              	.LFE136:
 117              		.section	.text.uart_read,"ax",%progbits
 118              		.align	1
 119              		.global	uart_read
 120              		.syntax unified
 121              		.thumb
 122              		.thumb_func
 123              		.fpu fpv4-sp-d16
 125              	uart_read:
 126              	.LVL5:
 127              	.LFB137:
ARM GAS  /tmp/cc0u9k5v.s 			page 4


  52:Core/Src/uart_stm32.c **** 
  53:Core/Src/uart_stm32.c **** /**
  54:Core/Src/uart_stm32.c ****  * @brief Read a sequence of bytes from a UART interface.
  55:Core/Src/uart_stm32.c ****  *
  56:Core/Src/uart_stm32.c ****  * @param uart is the base address of the UART port to read from.
  57:Core/Src/uart_stm32.c ****  * @param buf is a pointer to the destination for the received data.
  58:Core/Src/uart_stm32.c ****  * @param n is the number of bytes to read.
  59:Core/Src/uart_stm32.c ****  * @return the number of bytes read from the UART interface.
  60:Core/Src/uart_stm32.c ****  */
  61:Core/Src/uart_stm32.c **** uint32_t uart_read(hw_uart_t uart, uint8_t *buf, uint32_t n) {
 128              		.loc 1 61 62 is_stmt 1 view -0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 0
 131              		@ frame_needed = 0, uses_anonymous_args = 0
 132              		.loc 1 61 62 is_stmt 0 view .LVU16
 133 0000 38B5     		push	{r3, r4, r5, lr}
 134              	.LCFI4:
 135              		.cfi_def_cfa_offset 16
 136              		.cfi_offset 3, -16
 137              		.cfi_offset 4, -12
 138              		.cfi_offset 5, -8
 139              		.cfi_offset 14, -4
 140 0002 0D46     		mov	r5, r1
 141 0004 1446     		mov	r4, r2
  62:Core/Src/uart_stm32.c ****   /*
  63:Core/Src/uart_stm32.c ****   uint32_t read;
  64:Core/Src/uart_stm32.c ****   UART_HandleTypeDef* base = uart_base(uart);
  65:Core/Src/uart_stm32.c **** 
  66:Core/Src/uart_stm32.c ****   for (read = 0; read < n; read++) {
  67:Core/Src/uart_stm32.c ****     //buf[read] = (uint8_t)uart_readb(base);
  68:Core/Src/uart_stm32.c ****   }
  69:Core/Src/uart_stm32.c ****   */
  70:Core/Src/uart_stm32.c ****   HAL_UART_Receive(uart_base(uart), buf, n, HAL_MAX_DELAY);
 142              		.loc 1 70 3 is_stmt 1 view .LVU17
 143 0006 FFF7FEFF 		bl	uart_base
 144              	.LVL6:
 145              		.loc 1 70 3 is_stmt 0 view .LVU18
 146 000a 4FF0FF33 		mov	r3, #-1
 147 000e A2B2     		uxth	r2, r4
 148 0010 2946     		mov	r1, r5
 149 0012 FFF7FEFF 		bl	HAL_UART_Receive
 150              	.LVL7:
  71:Core/Src/uart_stm32.c **** 
  72:Core/Src/uart_stm32.c ****   return n;
 151              		.loc 1 72 3 is_stmt 1 view .LVU19
  73:Core/Src/uart_stm32.c **** }
 152              		.loc 1 73 1 is_stmt 0 view .LVU20
 153 0016 2046     		mov	r0, r4
 154 0018 38BD     		pop	{r3, r4, r5, pc}
 155              		.loc 1 73 1 view .LVU21
 156              		.cfi_endproc
 157              	.LFE137:
 159              		.section	.text.uart_readline,"ax",%progbits
 160              		.align	1
 161              		.global	uart_readline
 162              		.syntax unified
 163              		.thumb
ARM GAS  /tmp/cc0u9k5v.s 			page 5


 164              		.thumb_func
 165              		.fpu fpv4-sp-d16
 167              	uart_readline:
 168              	.LVL8:
 169              	.LFB138:
  74:Core/Src/uart_stm32.c **** 
  75:Core/Src/uart_stm32.c **** /**
  76:Core/Src/uart_stm32.c ****  * @brief Read a line (terminated with '\n') from a UART interface.
  77:Core/Src/uart_stm32.c ****  *
  78:Core/Src/uart_stm32.c ****  * @param uart is the base address of the UART port to read from.
  79:Core/Src/uart_stm32.c ****  * @param buf is a pointer to the destination for the received data.
  80:Core/Src/uart_stm32.c ****  * @return the number of bytes read from the UART interface.
  81:Core/Src/uart_stm32.c ****  */
  82:Core/Src/uart_stm32.c **** uint32_t uart_readline(hw_uart_t uart, uint8_t *buf) {
 170              		.loc 1 82 54 is_stmt 1 view -0
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 8
 173              		@ frame_needed = 0, uses_anonymous_args = 0
 174              		.loc 1 82 54 is_stmt 0 view .LVU23
 175 0000 70B5     		push	{r4, r5, r6, lr}
 176              	.LCFI5:
 177              		.cfi_def_cfa_offset 16
 178              		.cfi_offset 4, -16
 179              		.cfi_offset 5, -12
 180              		.cfi_offset 6, -8
 181              		.cfi_offset 14, -4
 182 0002 82B0     		sub	sp, sp, #8
 183              	.LCFI6:
 184              		.cfi_def_cfa_offset 24
 185 0004 0E46     		mov	r6, r1
  83:Core/Src/uart_stm32.c ****   uint32_t read = 0;
 186              		.loc 1 83 3 is_stmt 1 view .LVU24
 187              	.LVL9:
  84:Core/Src/uart_stm32.c ****   uint8_t c;
 188              		.loc 1 84 3 view .LVU25
  85:Core/Src/uart_stm32.c ****   UART_HandleTypeDef* base = uart_base(uart);
 189              		.loc 1 85 3 view .LVU26
 190              		.loc 1 85 30 is_stmt 0 view .LVU27
 191 0006 FFF7FEFF 		bl	uart_base
 192              	.LVL10:
 193              		.loc 1 85 30 view .LVU28
 194 000a 0546     		mov	r5, r0
 195              	.LVL11:
  83:Core/Src/uart_stm32.c ****   uint32_t read = 0;
 196              		.loc 1 83 12 view .LVU29
 197 000c 0024     		movs	r4, #0
 198 000e 05E0     		b	.L11
 199              	.LVL12:
 200              	.L9:
  86:Core/Src/uart_stm32.c **** 
  87:Core/Src/uart_stm32.c ****   do {
  88:Core/Src/uart_stm32.c ****     //c = (uint8_t)uart_readb(base);
  89:Core/Src/uart_stm32.c ****     HAL_UART_Receive(base, &c, 1, HAL_MAX_DELAY);
  90:Core/Src/uart_stm32.c **** 
  91:Core/Src/uart_stm32.c ****     if ((c != '\r') && (c != '\n') && (c != 0xD)) {
  92:Core/Src/uart_stm32.c ****       buf[read] = c;
  93:Core/Src/uart_stm32.c ****       read++;
ARM GAS  /tmp/cc0u9k5v.s 			page 6


  94:Core/Src/uart_stm32.c ****     }
  95:Core/Src/uart_stm32.c **** 
  96:Core/Src/uart_stm32.c ****   } while ((c != '\n') && (c != 0xD));
 201              		.loc 1 96 11 is_stmt 1 view .LVU30
 202              		.loc 1 96 15 is_stmt 0 view .LVU31
 203 0010 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 204              		.loc 1 96 3 view .LVU32
 205 0014 0A2B     		cmp	r3, #10
 206 0016 12D0     		beq	.L10
 207              		.loc 1 96 24 discriminator 1 view .LVU33
 208 0018 0D2B     		cmp	r3, #13
 209 001a 10D0     		beq	.L10
 210              	.LVL13:
 211              	.L11:
  87:Core/Src/uart_stm32.c ****     //c = (uint8_t)uart_readb(base);
 212              		.loc 1 87 3 is_stmt 1 view .LVU34
  89:Core/Src/uart_stm32.c **** 
 213              		.loc 1 89 5 view .LVU35
 214 001c 4FF0FF33 		mov	r3, #-1
 215 0020 0122     		movs	r2, #1
 216 0022 0DF10701 		add	r1, sp, #7
 217 0026 2846     		mov	r0, r5
 218 0028 FFF7FEFF 		bl	HAL_UART_Receive
 219              	.LVL14:
  91:Core/Src/uart_stm32.c ****       buf[read] = c;
 220              		.loc 1 91 5 view .LVU36
  91:Core/Src/uart_stm32.c ****       buf[read] = c;
 221              		.loc 1 91 12 is_stmt 0 view .LVU37
 222 002c 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
  91:Core/Src/uart_stm32.c ****       buf[read] = c;
 223              		.loc 1 91 8 view .LVU38
 224 0030 0D2B     		cmp	r3, #13
 225 0032 EDD0     		beq	.L9
  91:Core/Src/uart_stm32.c ****       buf[read] = c;
 226              		.loc 1 91 21 discriminator 1 view .LVU39
 227 0034 0A2B     		cmp	r3, #10
 228 0036 EBD0     		beq	.L9
  92:Core/Src/uart_stm32.c ****       read++;
 229              		.loc 1 92 7 is_stmt 1 view .LVU40
  92:Core/Src/uart_stm32.c ****       read++;
 230              		.loc 1 92 17 is_stmt 0 view .LVU41
 231 0038 3355     		strb	r3, [r6, r4]
  93:Core/Src/uart_stm32.c ****     }
 232              		.loc 1 93 7 is_stmt 1 view .LVU42
  93:Core/Src/uart_stm32.c ****     }
 233              		.loc 1 93 11 is_stmt 0 view .LVU43
 234 003a 0134     		adds	r4, r4, #1
 235              	.LVL15:
  93:Core/Src/uart_stm32.c ****     }
 236              		.loc 1 93 11 view .LVU44
 237 003c E8E7     		b	.L9
 238              	.L10:
  97:Core/Src/uart_stm32.c **** 
  98:Core/Src/uart_stm32.c ****   buf[read] = '\0';
 239              		.loc 1 98 3 is_stmt 1 view .LVU45
 240              		.loc 1 98 13 is_stmt 0 view .LVU46
 241 003e 0023     		movs	r3, #0
ARM GAS  /tmp/cc0u9k5v.s 			page 7


 242 0040 3355     		strb	r3, [r6, r4]
  99:Core/Src/uart_stm32.c **** 
 100:Core/Src/uart_stm32.c ****   return read;
 243              		.loc 1 100 3 is_stmt 1 view .LVU47
 101:Core/Src/uart_stm32.c **** }
 244              		.loc 1 101 1 is_stmt 0 view .LVU48
 245 0042 2046     		mov	r0, r4
 246 0044 02B0     		add	sp, sp, #8
 247              	.LCFI7:
 248              		.cfi_def_cfa_offset 16
 249              		@ sp needed
 250 0046 70BD     		pop	{r4, r5, r6, pc}
 251              		.loc 1 101 1 view .LVU49
 252              		.cfi_endproc
 253              	.LFE138:
 255              		.section	.text.uart_writeb,"ax",%progbits
 256              		.align	1
 257              		.global	uart_writeb
 258              		.syntax unified
 259              		.thumb
 260              		.thumb_func
 261              		.fpu fpv4-sp-d16
 263              	uart_writeb:
 264              	.LVL16:
 265              	.LFB139:
 102:Core/Src/uart_stm32.c **** 
 103:Core/Src/uart_stm32.c **** /**
 104:Core/Src/uart_stm32.c ****  * @brief Write a byte to a UART interface.
 105:Core/Src/uart_stm32.c ****  *
 106:Core/Src/uart_stm32.c ****  * @param uart is the base address of the UART port to write to.
 107:Core/Src/uart_stm32.c ****  * @param data is the byte value to write.
 108:Core/Src/uart_stm32.c ****  */
 109:Core/Src/uart_stm32.c **** void uart_writeb(hw_uart_t uart, uint8_t data) { HAL_UART_Transmit(uart_base(uart), &data, 1, HAL_M
 266              		.loc 1 109 48 is_stmt 1 view -0
 267              		.cfi_startproc
 268              		@ args = 0, pretend = 0, frame = 8
 269              		@ frame_needed = 0, uses_anonymous_args = 0
 270              		.loc 1 109 48 is_stmt 0 view .LVU51
 271 0000 00B5     		push	{lr}
 272              	.LCFI8:
 273              		.cfi_def_cfa_offset 4
 274              		.cfi_offset 14, -4
 275 0002 83B0     		sub	sp, sp, #12
 276              	.LCFI9:
 277              		.cfi_def_cfa_offset 16
 278 0004 8DF80710 		strb	r1, [sp, #7]
 279              		.loc 1 109 50 is_stmt 1 view .LVU52
 280 0008 FFF7FEFF 		bl	uart_base
 281              	.LVL17:
 282              		.loc 1 109 50 is_stmt 0 view .LVU53
 283 000c 4FF0FF33 		mov	r3, #-1
 284 0010 0122     		movs	r2, #1
 285 0012 0DF10701 		add	r1, sp, #7
 286 0016 FFF7FEFF 		bl	HAL_UART_Transmit
 287              	.LVL18:
 288              		.loc 1 109 111 view .LVU54
 289 001a 03B0     		add	sp, sp, #12
ARM GAS  /tmp/cc0u9k5v.s 			page 8


 290              	.LCFI10:
 291              		.cfi_def_cfa_offset 4
 292              		@ sp needed
 293 001c 5DF804FB 		ldr	pc, [sp], #4
 294              		.cfi_endproc
 295              	.LFE139:
 297              		.section	.text.uart_write,"ax",%progbits
 298              		.align	1
 299              		.global	uart_write
 300              		.syntax unified
 301              		.thumb
 302              		.thumb_func
 303              		.fpu fpv4-sp-d16
 305              	uart_write:
 306              	.LVL19:
 307              	.LFB140:
 110:Core/Src/uart_stm32.c **** 
 111:Core/Src/uart_stm32.c **** /**
 112:Core/Src/uart_stm32.c ****  * @brief Write a sequence of bytes to a UART interface.
 113:Core/Src/uart_stm32.c ****  *
 114:Core/Src/uart_stm32.c ****  * @param uart is the base address of the UART port to write to.
 115:Core/Src/uart_stm32.c ****  * @param buf is a pointer to the data to send.
 116:Core/Src/uart_stm32.c ****  * @param len is the number of bytes to send.
 117:Core/Src/uart_stm32.c ****  * @return the number of bytes written.
 118:Core/Src/uart_stm32.c ****  */
 119:Core/Src/uart_stm32.c **** uint32_t uart_write(hw_uart_t uart, uint8_t *buf, uint32_t len) {
 308              		.loc 1 119 65 is_stmt 1 view -0
 309              		.cfi_startproc
 310              		@ args = 0, pretend = 0, frame = 0
 311              		@ frame_needed = 0, uses_anonymous_args = 0
 312              		.loc 1 119 65 is_stmt 0 view .LVU56
 313 0000 38B5     		push	{r3, r4, r5, lr}
 314              	.LCFI11:
 315              		.cfi_def_cfa_offset 16
 316              		.cfi_offset 3, -16
 317              		.cfi_offset 4, -12
 318              		.cfi_offset 5, -8
 319              		.cfi_offset 14, -4
 320 0002 0D46     		mov	r5, r1
 321 0004 1446     		mov	r4, r2
 120:Core/Src/uart_stm32.c ****   /*
 121:Core/Src/uart_stm32.c ****   uint32_t i;
 122:Core/Src/uart_stm32.c ****   UART_HandleTypeDef* base = uart_base(uart);
 123:Core/Src/uart_stm32.c **** 
 124:Core/Src/uart_stm32.c ****   for (i = 0; i < len; i++) {
 125:Core/Src/uart_stm32.c ****     uart_writeb(base, buf[i]);
 126:Core/Src/uart_stm32.c ****   }
 127:Core/Src/uart_stm32.c ****   */
 128:Core/Src/uart_stm32.c ****   HAL_UART_Transmit(uart_base(uart), buf, len, HAL_MAX_DELAY);
 322              		.loc 1 128 3 is_stmt 1 view .LVU57
 323 0006 FFF7FEFF 		bl	uart_base
 324              	.LVL20:
 325              		.loc 1 128 3 is_stmt 0 view .LVU58
 326 000a 4FF0FF33 		mov	r3, #-1
 327 000e A2B2     		uxth	r2, r4
 328 0010 2946     		mov	r1, r5
 329 0012 FFF7FEFF 		bl	HAL_UART_Transmit
ARM GAS  /tmp/cc0u9k5v.s 			page 9


 330              	.LVL21:
 129:Core/Src/uart_stm32.c **** 
 130:Core/Src/uart_stm32.c ****   return len;
 331              		.loc 1 130 3 is_stmt 1 view .LVU59
 131:Core/Src/uart_stm32.c **** }
 332              		.loc 1 131 1 is_stmt 0 view .LVU60
 333 0016 2046     		mov	r0, r4
 334 0018 38BD     		pop	{r3, r4, r5, pc}
 335              		.loc 1 131 1 view .LVU61
 336              		.cfi_endproc
 337              	.LFE140:
 339              		.text
 340              	.Letext0:
 341              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 342              		.file 3 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f411xe.h"
 343              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 344              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 345              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 346              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 347              		.file 8 "../../application/inc/uart.h"
 348              		.file 9 "Core/Inc/uart_stm32.h"
ARM GAS  /tmp/cc0u9k5v.s 			page 10


DEFINED SYMBOLS
                            *ABS*:0000000000000000 uart_stm32.c
     /tmp/cc0u9k5v.s:18     .text.uart_init:0000000000000000 $t
     /tmp/cc0u9k5v.s:26     .text.uart_init:0000000000000000 uart_init
     /tmp/cc0u9k5v.s:40     .text.uart_avail:0000000000000000 $t
     /tmp/cc0u9k5v.s:47     .text.uart_avail:0000000000000000 uart_avail
     /tmp/cc0u9k5v.s:74     .text.uart_readb:0000000000000000 $t
     /tmp/cc0u9k5v.s:81     .text.uart_readb:0000000000000000 uart_readb
     /tmp/cc0u9k5v.s:118    .text.uart_read:0000000000000000 $t
     /tmp/cc0u9k5v.s:125    .text.uart_read:0000000000000000 uart_read
     /tmp/cc0u9k5v.s:160    .text.uart_readline:0000000000000000 $t
     /tmp/cc0u9k5v.s:167    .text.uart_readline:0000000000000000 uart_readline
     /tmp/cc0u9k5v.s:256    .text.uart_writeb:0000000000000000 $t
     /tmp/cc0u9k5v.s:263    .text.uart_writeb:0000000000000000 uart_writeb
     /tmp/cc0u9k5v.s:298    .text.uart_write:0000000000000000 $t
     /tmp/cc0u9k5v.s:305    .text.uart_write:0000000000000000 uart_write

UNDEFINED SYMBOLS
uart_base
HAL_UART_Receive
HAL_UART_Transmit
